{"ast":null,"code":"import _regeneratorRuntime from\"/home/sandeep/projects/9flats-final/9flats/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sandeep/projects/9flats-final/9flats/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import ImageEntity from'../ImageEntity/ImageEntity';import Description from'../Description/Description';import Amenities from'../Amenities';import Table from'../Table';import Reviews from'../Reviews';import Recommendation from'../Recommend';import{getBasicInfoBackend,getAmenitiesBackend,getRoomsBackend,getReviewsBackend,getRecommendationsBackend,getRoomStatusBackend,getBlockedDatesBackend}from'../../../redux/actions/entityActions';import{useParams,useLocation}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import MapImage from'../MapImage';export default function Entity(){var basicInfo=useSelector(function(state){return state.entity.basicInfo;});var amenities=useSelector(function(state){return state.entity.amenities;});var rooms=useSelector(function(state){return state.entity.rooms;});var reviews=useSelector(function(state){return state.entity.reviews;});var recommendations=useSelector(function(state){return state.entity.recommendations;});var room_status=useSelector(function(state){return state.entity.room_status;});var blockedDates=useSelector(function(state){return state.entity.blockedDates;});var dispatch=useDispatch();var params=useParams();var location=useLocation();var query=new URLSearchParams(location.search);var payload=\"/\".concat(params['property_id'],\"?start_date=\").concat(query.get('start_date'),\"&end_date=\").concat(query.get('end_date'));useEffect(function(){var entityDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return dispatch(getBasicInfoBackend(params['property_id']));case 3:_context.next=5;return dispatch(getAmenitiesBackend(params['property_id']));case 5:_context.next=7;return dispatch(getRoomsBackend(params['property_id']));case 7:_context.next=9;return dispatch(getReviewsBackend(params['property_id']));case 9:_context.next=11;return dispatch(getRecommendationsBackend(params['property_id']));case 11:_context.next=13;return dispatch(getBlockedDatesBackend(params['property_id']));case 13:_context.next=15;return dispatch(getRoomStatusBackend(payload));case 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function entityDetails(){return _ref.apply(this,arguments);};}();entityDetails();},[]);console.log(basicInfo);console.log(amenities);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ImageEntity,{basicDetails:basicInfo}),/*#__PURE__*/React.createElement(Description,{basicDetails:basicInfo,blockedDates:blockedDates}),/*#__PURE__*/React.createElement(Amenities,{amenities:amenities}),/*#__PURE__*/React.createElement(Table,{rooms:rooms,room_status:room_status,basicDetails:basicInfo,hotel:query.get('search_query')}),/*#__PURE__*/React.createElement(Reviews,{reviews:reviews}),/*#__PURE__*/React.createElement(Recommendation,{recommendations:recommendations})));}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-final/9flats/client/src/components/Entity/MainEntity/Entity.jsx"],"names":["React","useEffect","ImageEntity","Description","Amenities","Table","Reviews","Recommendation","getBasicInfoBackend","getAmenitiesBackend","getRoomsBackend","getReviewsBackend","getRecommendationsBackend","getRoomStatusBackend","getBlockedDatesBackend","useParams","useLocation","useSelector","useDispatch","MapImage","Entity","basicInfo","state","entity","amenities","rooms","reviews","recommendations","room_status","blockedDates","dispatch","params","location","query","URLSearchParams","search","payload","get","entityDetails","console","log"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport ImageEntity from '../ImageEntity/ImageEntity'\nimport Description from '../Description/Description'\nimport Amenities from '../Amenities'\nimport Table from '../Table'\nimport Reviews from '../Reviews'\nimport Recommendation from '../Recommend'\nimport {getBasicInfoBackend, getAmenitiesBackend, getRoomsBackend, getReviewsBackend, getRecommendationsBackend, getRoomStatusBackend, getBlockedDatesBackend} from '../../../redux/actions/entityActions'\nimport {useParams, useLocation} from 'react-router-dom'\nimport {useSelector, useDispatch} from 'react-redux'\nimport MapImage from '../MapImage'\n\nexport default function Entity(){\n    const basicInfo = useSelector(state=>state.entity.basicInfo)\n    const amenities = useSelector(state=>state.entity.amenities)\n    const rooms = useSelector(state=>state.entity.rooms)\n    const reviews = useSelector(state=>state.entity.reviews)\n    const recommendations = useSelector(state=>state.entity.recommendations)\n    const room_status = useSelector(state=>state.entity.room_status)\n    const blockedDates = useSelector(state=>state.entity.blockedDates)\n\n    const dispatch = useDispatch()\n    const params = useParams()\n    const location = useLocation()\n    const query = new URLSearchParams(location.search)\n    let payload = `/${params['property_id']}?start_date=${query.get('start_date')}&end_date=${query.get('end_date')}`\n\n    useEffect(()=>{\n        const entityDetails = async() =>{\n            try {\n                await dispatch(getBasicInfoBackend(params['property_id']))\n                await dispatch(getAmenitiesBackend(params['property_id']))\n                await dispatch(getRoomsBackend(params['property_id']))\n                await dispatch(getReviewsBackend(params['property_id']))\n                await dispatch(getRecommendationsBackend(params['property_id']))\n                await dispatch(getBlockedDatesBackend(params['property_id']))\n                await dispatch(getRoomStatusBackend(payload))\n            } catch (error) {\n                console.log(error)\n            }\n        }\n        entityDetails()\n    },[])\n    console.log(basicInfo)\n    console.log(amenities)\n    return (\n        <div>\n            <div>\n                <ImageEntity basicDetails = {basicInfo}/>\n                <Description basicDetails={basicInfo} blockedDates = {blockedDates} />\n                <Amenities amenities = {amenities}/>\n                {/* <MapImage basicDetails={query.get('search_query')}/> */}\n                <Table rooms = {rooms} room_status = {room_status} basicDetails = {basicInfo} hotel = {query.get('search_query')}/>\n                <Reviews reviews = {reviews}/>\n                <Recommendation recommendations = {recommendations}/>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}