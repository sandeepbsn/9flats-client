{"ast":null,"code":"import _slicedToArray from\"/home/sandeep/projects/9flats-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Multiselect}from'multiselect-react-dropdown';import{useLocation,useHistory}from'react-router-dom';export default function FilterDropdown(){var location=useLocation();var history=useHistory();var query=new URLSearchParams(location.search);var pre_cat=query.get('category').split(\",\");var pre_ame=query.get('amenities').split(\",\");var pre_pri=query.get('price').split(\",\");var parameters=pre_cat.concat(pre_ame,pre_pri);var _useState=useState([{name:\"house\",id:\"category\"},{name:\"hotel\",id:\"category\"},{name:\"hostel\",id:\"category\"},{name:\"apartment\",id:\"category\"},{name:\"bed and breakfast\",id:\"category\"},{name:\"villa\",id:\"category\"},{name:\"wifi\",id:\"amenities\"},{name:\"ac\",id:\"amenities\"},{name:\"kitchen\",id:\"amenities\"},{name:\"breakfast\",id:\"amenities\"},{name:\"pool\",id:\"amenities\"},{name:\"heater\",id:\"amenities\"},{name:\"frontedesk\",id:\"amenities\"},{name:\"0-1500\",id:\"price\"},{name:\"1500-3000\",id:\"price\"},{name:\"3000-5000\",id:\"price\"}]),_useState2=_slicedToArray(_useState,2),filters=_useState2[0],setFilters=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];useEffect(function(){var temp=[];parameters.forEach(function(elem){var index=filters.findIndex(function(filter){return filter['name']===elem;});if(index!==-1){temp.push(filters[index]);}});setSelected(temp);},[]);var onSelect=function onSelect(list,item){var category=[];var amenities=[];var price=[];list.forEach(function(elem){if(elem['id']==='category'){category.push(elem['name']);}else if(elem['id']==='amenities'){amenities.push(elem['name']);}else if(elem['id']==='price'){price.push(elem['name']);}});history.push(\"/listing?search_query=\".concat(query.get('search_query'),\"&start_date=\").concat(query.get('start_date'),\"&end_date=\").concat(query.get('end_date'),\"&page=\",1,\"&per_page=\").concat(query.get('per_page'),\"&category=\").concat(category,\"&amenities=\").concat(amenities,\"&price=\").concat(price));};var onRemove=function onRemove(list,item){var category=[];var amenities=[];var price=[];list.forEach(function(elem){if(elem['id']==='category'){category.push(elem['name']);}else if(elem['id']==='amenities'){amenities.push(elem['name']);}else if(elem['id']==='price'){price.push(elem['name']);}});history.push(\"/listing?search_query=\".concat(query.get('search_query'),\"&start_date=\").concat(query.get('start_date'),\"&end_date=\").concat(query.get('end_date'),\"&page=\").concat(query.get('page'),\"&per_page=\").concat(query.get('per_page'),\"&category=\").concat(category,\"&amenities=\").concat(amenities,\"&price=\").concat(price));};return/*#__PURE__*/React.createElement(Multiselect,{options:filters// Options to display in the dropdown\n,selectedValues:selected// Preselected value to persist in dropdown\n,onSelect:onSelect// Function will trigger on select event\n,onRemove:onRemove// Function will trigger on remove event\n,displayValue:\"name\"// Property name to display in the dropdown options\n,showCheckbox:true,groupBy:\"id\",closeOnSelect:false,hidePlaceholder:true,placeholder:\"Filters\",style:{chips:{background:\"none\",color:\"black\",position:\"relative\",left:\"10px\"},searchBox:{\"display\":\"flex\",\"height\":\"40px\",\"width\":\"250px\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"border\":\"none\",\"text-overflow\":\"ellipsis\",\"backgroundColor\":\"white\",\"padding\":\"2px\",\"margin-left\":\"2px\"}}});}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-client/src/components/Listing/FilterDropdown.jsx"],"names":["React","useState","useEffect","Multiselect","useLocation","useHistory","FilterDropdown","location","history","query","URLSearchParams","search","pre_cat","get","split","pre_ame","pre_pri","parameters","concat","name","id","filters","setFilters","selected","setSelected","temp","forEach","elem","index","findIndex","filter","push","onSelect","list","item","category","amenities","price","onRemove","chips","background","color","position","left","searchBox"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { Multiselect } from 'multiselect-react-dropdown';\nimport {useLocation, useHistory} from 'react-router-dom'\n\n\nexport default function FilterDropdown(){\n    const location = useLocation()\n    const history = useHistory()\n    const query = new URLSearchParams(location.search)\n    let pre_cat = query.get('category').split(\",\")\n    let pre_ame = query.get('amenities').split(\",\")\n    let pre_pri = query.get('price').split(\",\")\n    let parameters = pre_cat.concat(pre_ame, pre_pri)\n\n    const [filters, setFilters] = useState([\n        {name:\"house\", id:\"category\"}, \n        {name:\"hotel\", id:\"category\"},\n        {name:\"hostel\", id:\"category\"},\n        {name:\"apartment\", id:\"category\"}, \n        {name:\"bed and breakfast\", id:\"category\"},\n        {name:\"villa\", id:\"category\"},\n        {name:\"wifi\", id:\"amenities\"},\n        {name:\"ac\",id:\"amenities\"} ,\n        {name:\"kitchen\", id:\"amenities\"},\n        {name:\"breakfast\", id:\"amenities\"},\n        {name:\"pool\", id:\"amenities\"},\n        {name:\"heater\", id:\"amenities\"},\n        {name:\"frontedesk\", id:\"amenities\"},\n        {name:\"0-1500\", id:\"price\"},\n        {name:\"1500-3000\", id:\"price\"},\n        {name:\"3000-5000\", id:\"price\"},\n    ])\n    \n    const [selected, setSelected] = useState()\n    \n\n    useEffect(()=>{\n        let temp = []\n        parameters.forEach(elem=>{\n            let index = filters.findIndex(filter => filter['name'] === elem )\n            if (index !== -1){\n                temp.push(filters[index])\n            }\n        })\n        setSelected(temp)\n    },[])\n\n    const onSelect = (list,item) => {\n        let category = []\n        let amenities = []\n        let price = []\n        list.forEach(elem =>{\n            if(elem['id'] === 'category'){\n                category.push(elem['name'])\n            }\n            else if(elem['id'] === 'amenities'){\n                amenities.push(elem['name'])\n            }\n            else if(elem['id'] === 'price'){\n                price.push(elem['name'])\n            }\n        })\n        \n        history.push(`/listing?search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${1}&per_page=${query.get('per_page')}&category=${category}&amenities=${amenities}&price=${price}`)         \n    }\n    const onRemove = (list, item) => {\n        let category = []\n        let amenities = []\n        let price = []\n        list.forEach(elem =>{\n            if(elem['id'] === 'category'){\n                category.push(elem['name'])\n            }\n            else if(elem['id'] === 'amenities'){\n                amenities.push(elem['name'])\n            }\n            else if(elem['id'] === 'price'){\n                price.push(elem['name'])\n            }\n        })\n        history.push(`/listing?search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${query.get('page')}&per_page=${query.get('per_page')}&category=${category}&amenities=${amenities}&price=${price}`)\n    } \n\n    \n    \n    return (\n        <Multiselect\n        options={filters} // Options to display in the dropdown\n        selectedValues={selected} // Preselected value to persist in dropdown\n        onSelect={onSelect} // Function will trigger on select event\n        onRemove={onRemove} // Function will trigger on remove event\n        displayValue=\"name\" // Property name to display in the dropdown options\n        showCheckbox={true}\n        groupBy=\"id\"\n        closeOnSelect={false}\n        hidePlaceholder={true}\n        placeholder=\"Filters\"\n        style = {{ chips: { background: \"none\", color:\"black\",position:\"relative\",left:\"10px\"}, \n        searchBox: {\n            \"display\":\"flex\",\n            \"height\":\"40px\", \n            \"width\":\"250px\",\n            \"white-space\": \"nowrap\", \n            \"overflow\": \"hidden\",\n            \"border\": \"none\",\n            \"text-overflow\": \"ellipsis\",\n            \"backgroundColor\":\"white\" ,\n            \"padding\":\"2px\",\n            \"margin-left\":\"2px\"\n            },\n        }}\n        />\n    )\n\n}"]},"metadata":{},"sourceType":"module"}