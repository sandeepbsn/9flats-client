{"ast":null,"code":"import _defineProperty from\"/home/sandeep/projects/9flats-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/sandeep/projects/9flats-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/sandeep/projects/9flats-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import styles from'./LandingPage.module.css';import DatePicker from\"react-datepicker\";import TopCities from'./TopCities';import PopularPlaces from'./PopularPlaces';import{clearValidation}from'../../redux/actions/entityActions';import GooglePlacesAutocomplete from'react-google-places-autocomplete';export default function LandingPage(){var final_res=useSelector(function(state){return state.entity.validation;});var dispatch=useDispatch();var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1];var copy=new Date(Number(startDate));copy.setDate(startDate.getDate()+1);var _useState3=useState(copy),_useState4=_slicedToArray(_useState3,2),endDate=_useState4[0],setEndDate=_useState4[1];var _useState5=useState({\"search_query\":\"\",\"guests\":\"\"}),_useState6=_slicedToArray(_useState5,2),params=_useState6[0],setParams=_useState6[1];var loginInfo=useSelector(function(state){return state.login.loginInfo;});var history=useHistory();var handleChange=function handleChange(e){console.log(e.target.name);setParams(_objectSpread(_objectSpread({},params),{},_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){if(final_res===null||final_res===void 0?void 0:final_res['status']){dispatch(clearValidation());}var end_update=new Date(Number(startDate));end_update.setDate(startDate.getDate()+1);setEndDate(end_update);},[startDate]);var handleSearch=function handleSearch(e){e.preventDefault();console.log(params,startDate,endDate);var start=startDate.toLocaleDateString().split(\"/\").reverse().join(\"-\");var end=endDate.toLocaleDateString().split(\"/\").reverse().join(\"-\");var search_query=params.search_query;history.push(\"/listing?search_query=\".concat(search_query,\"&start_date=\").concat(start,\"&end_date=\").concat(end,\"&page=&per_page=&category=&amenities=&price=\"));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(styles.landingImage,\" row\")},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(styles.over,\" container-fluid\"),style:{height:400}},/*#__PURE__*/React.createElement(\"div\",{className:\"row text-center my-5 d-none  d-md-block\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"col-12 text-white \",style:{marginTop:80}},/*#__PURE__*/React.createElement(\"b\",null,\"Feel like Home away from Home\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"col-12 text-white mt-4 mb-4\"},\"The alternative to hotel with 6 million homes worldwide\")),/*#__PURE__*/React.createElement(\"div\",{className:\"container searchPanel  my-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto text-center\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return handleSearch(e);},className:\"\".concat(styles.searchbg,\" rounded p-2 d-flex flex-md-row flex-column d-md-inline-flex justify-content-around\")},/*#__PURE__*/React.createElement(GooglePlacesAutocomplete,{types:\"region\",onSelect:function onSelect(description){return setParams(_objectSpread(_objectSpread({},params),{},{\"search_query\":description['description']}));}// apiKey=\"AIzaSyCcS0j7hDpSs-F4xDi2q6AkTD_sWqECR9M\"\n,renderInput:function renderInput(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",Object.assign({className:\"\".concat(styles.wheretogo)// Custom properties\n},props)));},renderSuggestions:function renderSuggestions(active,suggestions,onSelectSuggestion){return/*#__PURE__*/React.createElement(\"div\",{className:styles.suggestionsContainer},suggestions.map(function(suggestion){return/*#__PURE__*/React.createElement(\"div\",{className:styles.suggestion,onClick:function onClick(event){return onSelectSuggestion(suggestion,event);}},suggestion.description);}));}}),/*#__PURE__*/React.createElement(DatePicker,{className:\"\".concat(styles.datecomponent,\" \").concat(styles.fromDate,\" mx-md-2\"),selected:startDate,onChange:function onChange(date){return setStartDate(date);},selectsStart:true,startDate:startDate,endDate:endDate,minDate:startDate,placeholderText:\"From\"}),/*#__PURE__*/React.createElement(DatePicker,{className:\"\".concat(styles.datecomponent,\" \").concat(styles.toDate,\" \"),selected:endDate,onChange:function onChange(date){return setEndDate(date);},selectsEnd:true,startDate:startDate,endDate:endDate,minDate:endDate,placeholderText:\"To\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"\".concat(styles.beds,\" mx-md-2\"),type:\"text\",name:\"guests\",id:\"search_number_of_beds\",placeholder:\"Guests\",tabIndex:\"4\",value:params['guests'],onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",name:\"commit\",className:\"\".concat(styles.searchSubmit),id:\"fullSearch\"},\"Search\")))))),/*#__PURE__*/React.createElement(TopCities,null),/*#__PURE__*/React.createElement(PopularPlaces,null)));}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-client/src/components/LandingPage/LandingPage.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","useHistory","styles","DatePicker","TopCities","PopularPlaces","clearValidation","GooglePlacesAutocomplete","LandingPage","final_res","state","entity","validation","dispatch","Date","startDate","setStartDate","copy","Number","setDate","getDate","endDate","setEndDate","params","setParams","loginInfo","login","history","handleChange","e","console","log","target","name","value","end_update","handleSearch","preventDefault","start","toLocaleDateString","split","reverse","join","end","search_query","push","landingImage","over","height","marginTop","searchbg","description","props","wheretogo","active","suggestions","onSelectSuggestion","suggestionsContainer","map","suggestion","event","datecomponent","fromDate","date","toDate","beds","searchSubmit"],"mappings":"kdAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,eAAT,KAAgC,mCAAhC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,kCAArC,CAMA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CACpC,GAAMC,CAAAA,SAAS,CAAGV,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAN,CAAaC,UAAjB,EAAN,CAA7B,CACA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAFoC,cAGFH,QAAQ,CAAC,GAAIiB,CAAAA,IAAJ,EAAD,CAHN,wCAG7BC,SAH6B,eAGlBC,YAHkB,eAKpC,GAAMC,CAAAA,IAAI,CAAG,GAAIH,CAAAA,IAAJ,CAASI,MAAM,CAACH,SAAD,CAAf,CAAb,CACAE,IAAI,CAACE,OAAL,CAAaJ,SAAS,CAACK,OAAV,GAAsB,CAAnC,EANoC,eAQNvB,QAAQ,CAACoB,IAAD,CARF,yCAQ7BI,OAR6B,eAQpBC,UARoB,8BAURzB,QAAQ,CAAC,CACnC,eAAgB,EADmB,CAEnC,SAAU,EAFyB,CAAD,CAVA,yCAU7B0B,MAV6B,eAUrBC,SAVqB,eAcpC,GAAMC,CAAAA,SAAS,CAAG1B,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACgB,KAAN,CAAYD,SAAhB,EAAN,CAA7B,CACA,GAAME,CAAAA,OAAO,CAAG1B,UAAU,EAA1B,CAEA,GAAM2B,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,IAArB,EACAT,SAAS,gCACJD,MADI,wBAENM,CAAC,CAACG,MAAF,CAASC,IAFH,CAEUJ,CAAC,CAACG,MAAF,CAASE,KAFnB,GAAT,CAID,CAND,CAQApC,SAAS,CAAC,UAAM,CACd,GAAIW,SAAJ,SAAIA,SAAJ,iBAAIA,SAAS,CAAG,QAAH,CAAb,CAA2B,CACzBI,QAAQ,CAACP,eAAe,EAAhB,CAAR,CACD,CACD,GAAI6B,CAAAA,UAAU,CAAG,GAAIrB,CAAAA,IAAJ,CAASI,MAAM,CAACH,SAAD,CAAf,CAAjB,CACAoB,UAAU,CAAChB,OAAX,CAAmBJ,SAAS,CAACK,OAAV,GAAsB,CAAzC,EACAE,UAAU,CAACa,UAAD,CAAV,CACD,CAPQ,CAON,CAACpB,SAAD,CAPM,CAAT,CASA,GAAMqB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,CAAD,CAAO,CAC1BA,CAAC,CAACQ,cAAF,GACAP,OAAO,CAACC,GAAR,CAAYR,MAAZ,CAAoBR,SAApB,CAA+BM,OAA/B,EACA,GAAIiB,CAAAA,KAAK,CAAGvB,SAAS,CAACwB,kBAAV,GAA+BC,KAA/B,CAAqC,GAArC,EAA0CC,OAA1C,GAAoDC,IAApD,CAAyD,GAAzD,CAAZ,CACA,GAAIC,CAAAA,GAAG,CAAGtB,OAAO,CAACkB,kBAAR,GAA6BC,KAA7B,CAAmC,GAAnC,EAAwCC,OAAxC,GAAkDC,IAAlD,CAAuD,GAAvD,CAAV,CAJ0B,GAKpBE,CAAAA,YALoB,CAKHrB,MALG,CAKpBqB,YALoB,CAM1BjB,OAAO,CAACkB,IAAR,iCAAsCD,YAAtC,wBAAiEN,KAAjE,sBAAmFK,GAAnF,kDACD,CAPD,CASA,mBACE,qDACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,WAAKzC,MAAM,CAAC4C,YAAZ,QAAd,eACE,2BAAK,SAAS,WAAK5C,MAAM,CAAC6C,IAAZ,oBAAd,CAAkD,KAAK,CAAE,CAAEC,MAAM,CAAE,GAAV,CAAzD,eACE,2BAAK,SAAS,CAAC,yCAAf,eACE,0BAAI,SAAS,CAAC,oBAAd,CAAmC,KAAK,CAAE,CAAEC,SAAS,CAAE,EAAb,CAA1C,eACE,6DADF,CADF,cAIE,0BAAI,SAAS,CAAC,6BAAd,4DAJF,CADF,cASE,2BAAK,SAAS,CAAC,6BAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,eACE,4BACE,QAAQ,CAAE,kBAACpB,CAAD,QAAOO,CAAAA,YAAY,CAACP,CAAD,CAAnB,EADZ,CAEE,SAAS,WAAK3B,MAAM,CAACgD,QAAZ,uFAFX,eAGI,oBAAC,wBAAD,EACE,KAAK,CAAC,QADR,CAEE,QAAQ,CAAE,kBAACC,WAAD,QAAiB3B,CAAAA,SAAS,gCAC/BD,MAD+B,MAElC,eAAgB4B,WAAW,CAAC,aAAD,CAFO,GAA1B,EAIV;AANF,CAOE,WAAW,CAAE,qBAACC,KAAD,qBACX,4CACE,2CAAO,SAAS,WAAKlD,MAAM,CAACmD,SAAZ,CACd;AADF,EAEMD,KAFN,EADF,CADW,EAPf,CAeE,iBAAiB,CAAE,2BAACE,MAAD,CAASC,WAAT,CAAsBC,kBAAtB,qBACjB,2BAAK,SAAS,CAAEtD,MAAM,CAACuD,oBAAvB,EAEIF,WAAW,CAACG,GAAZ,CAAgB,SAACC,UAAD,qBACd,2BACE,SAAS,CAAEzD,MAAM,CAACyD,UADpB,CAEE,OAAO,CAAE,iBAACC,KAAD,QAAWJ,CAAAA,kBAAkB,CAACG,UAAD,CAAaC,KAAb,CAA7B,EAFX,EAIGD,UAAU,CAACR,WAJd,CADc,EAAhB,CAFJ,CADiB,EAfrB,EAHJ,cAiCE,oBAAC,UAAD,EACE,SAAS,WAAKjD,MAAM,CAAC2D,aAAZ,aAA6B3D,MAAM,CAAC4D,QAApC,YADX,CAEE,QAAQ,CAAE/C,SAFZ,CAGE,QAAQ,CAAE,kBAAAgD,IAAI,QAAI/C,CAAAA,YAAY,CAAC+C,IAAD,CAAhB,EAHhB,CAIE,YAAY,KAJd,CAKE,SAAS,CAAEhD,SALb,CAME,OAAO,CAAEM,OANX,CAOE,OAAO,CAAEN,SAPX,CAQE,eAAe,CAAC,MARlB,EAjCF,cA6CE,oBAAC,UAAD,EACE,SAAS,WAAKb,MAAM,CAAC2D,aAAZ,aAA6B3D,MAAM,CAAC8D,MAApC,KADX,CAEE,QAAQ,CAAE3C,OAFZ,CAGE,QAAQ,CAAE,kBAAA0C,IAAI,QAAIzC,CAAAA,UAAU,CAACyC,IAAD,CAAd,EAHhB,CAIE,UAAU,KAJZ,CAKE,SAAS,CAAEhD,SALb,CAME,OAAO,CAAEM,OANX,CAOE,OAAO,CAAEA,OAPX,CAQE,eAAe,CAAC,IARlB,EA7CF,cAuDE,6BACE,SAAS,WAAKnB,MAAM,CAAC+D,IAAZ,YADX,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,QAHP,CAIE,EAAE,CAAC,uBAJL,CAKE,WAAW,CAAC,QALd,CAME,QAAQ,CAAC,GANX,CAOE,KAAK,CAAE1C,MAAM,CAAC,QAAD,CAPf,CAQE,QAAQ,CAAE,kBAACM,CAAD,QAAOD,CAAAA,YAAY,CAACC,CAAD,CAAnB,EARZ,EAvDF,cAkEE,8BACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,WAAK3B,MAAM,CAACgE,YAAZ,CAHX,CAIE,EAAE,CAAC,YAJL,WAlEF,CADF,CADF,CATF,CADF,CADF,cA0FE,oBAAC,SAAD,MA1FF,cA2FE,oBAAC,aAAD,MA3FF,CADF,CADF,CAiGD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport styles from './LandingPage.module.css'\nimport DatePicker from \"react-datepicker\";\nimport TopCities from './TopCities'\nimport PopularPlaces from './PopularPlaces'\nimport { clearValidation } from '../../redux/actions/entityActions'\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\n\n\n\n\n\nexport default function LandingPage() {\n  const final_res = useSelector(state => state.entity.validation)\n  const dispatch = useDispatch()\n  const [startDate, setStartDate] = useState(new Date());\n\n  const copy = new Date(Number(startDate))\n  copy.setDate(startDate.getDate() + 1)\n\n  const [endDate, setEndDate] = useState(copy);\n\n  const [params, setParams] = useState({\n    \"search_query\": \"\",\n    \"guests\": \"\"\n  })\n  const loginInfo = useSelector(state => state.login.loginInfo)\n  const history = useHistory()\n\n  const handleChange = (e) => {\n    console.log(e.target.name)\n    setParams({\n      ...params,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  useEffect(() => {\n    if (final_res?.['status']) {\n      dispatch(clearValidation())\n    }\n    let end_update = new Date(Number(startDate))\n    end_update.setDate(startDate.getDate() + 1)\n    setEndDate(end_update)\n  }, [startDate])\n\n  const handleSearch = (e) => {\n    e.preventDefault()\n    console.log(params, startDate, endDate)\n    let start = startDate.toLocaleDateString().split(\"/\").reverse().join(\"-\")\n    let end = endDate.toLocaleDateString().split(\"/\").reverse().join(\"-\")\n    let { search_query } = params\n    history.push(`/listing?search_query=${search_query}&start_date=${start}&end_date=${end}&page=&per_page=&category=&amenities=&price=`)\n  }\n\n  return (\n    <>\n      <div className=\"container-fluid\" >\n        <div className={`${styles.landingImage} row`}>\n          <div className={`${styles.over} container-fluid`} style={{ height: 400 }}>\n            <div className=\"row text-center my-5 d-none  d-md-block\" >\n              <h2 className=\"col-12 text-white \" style={{ marginTop: 80 }}>\n                <b>Feel like Home away from Home</b>\n              </h2>\n              <h6 className=\"col-12 text-white mt-4 mb-4\">\n                The alternative to hotel with 6 million homes worldwide\n              </h6>\n            </div>\n            <div className=\"container searchPanel  my-5\" >\n              <div className=\"m-auto text-center\">\n                <form \n                  onSubmit={(e) => handleSearch(e)} \n                  className={`${styles.searchbg} rounded p-2 d-flex flex-md-row flex-column d-md-inline-flex justify-content-around`}>\n                    <GooglePlacesAutocomplete\n                      types=\"region\"\n                      onSelect={(description) => setParams({\n                        ...params,\n                        \"search_query\": description['description']\n                      })}\n                      // apiKey=\"AIzaSyCcS0j7hDpSs-F4xDi2q6AkTD_sWqECR9M\"\n                      renderInput={(props) => (\n                        <div>\n                          <input className={`${styles.wheretogo}`}\n                            // Custom properties\n                            {...props}\n                          />\n                        </div>\n                      )}\n                      renderSuggestions={(active, suggestions, onSelectSuggestion) => (\n                        <div className={styles.suggestionsContainer}>\n                          {\n                            suggestions.map((suggestion) => (\n                              <div\n                                className={styles.suggestion}\n                                onClick={(event) => onSelectSuggestion(suggestion, event)}\n                              >\n                                {suggestion.description}\n                              </div>\n                            ))\n                          }\n                        </div>\n                      )}\n                    />\n                  <DatePicker\n                    className={`${styles.datecomponent} ${styles.fromDate} mx-md-2`}\n                    selected={startDate}\n                    onChange={date => setStartDate(date)}\n                    selectsStart\n                    startDate={startDate}\n                    endDate={endDate}\n                    minDate={startDate}\n                    placeholderText=\"From\"\n                  />\n\n\n                  <DatePicker\n                    className={`${styles.datecomponent} ${styles.toDate} `}\n                    selected={endDate}\n                    onChange={date => setEndDate(date)}\n                    selectsEnd\n                    startDate={startDate}\n                    endDate={endDate}\n                    minDate={endDate}\n                    placeholderText=\"To\"\n                  />\n                  <input\n                    className={`${styles.beds} mx-md-2`}\n                    type=\"text\"\n                    name=\"guests\"\n                    id=\"search_number_of_beds\"\n                    placeholder=\"Guests\"\n                    tabIndex=\"4\"\n                    value={params['guests']}\n                    onChange={(e) => handleChange(e)}\n                  />\n\n                  <button\n                    type=\"submit\"\n                    name=\"commit\"\n                    className={`${styles.searchSubmit}`}\n                    id=\"fullSearch\">Search\n                    </button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n        <TopCities />\n        <PopularPlaces />\n      </div>\n    </>\n  )\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}