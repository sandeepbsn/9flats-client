{"ast":null,"code":"var _jsxFileName = \"/home/sandeep/projects/9flats-final/9flats/client/src/components/Listing/FilterDropdown.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Multiselect } from 'multiselect-react-dropdown';\nimport { useLocation, useHistory } from 'react-router-dom';\nexport default function FilterDropdown() {\n  const location = useLocation();\n  const history = useHistory();\n  const query = new URLSearchParams(location.search);\n  let pre_cat = query.get('category').split(\",\");\n  let pre_ame = query.get('amenities').split(\",\");\n  let pre_pri = query.get('price').split(\",\");\n  let parameters = pre_cat.concat(pre_ame, pre_pri);\n  const [filters, setFilters] = useState([{\n    name: \"house\",\n    id: \"category\"\n  }, {\n    name: \"hotel\",\n    id: \"category\"\n  }, {\n    name: \"hostel\",\n    id: \"category\"\n  }, {\n    name: \"apartment\",\n    id: \"category\"\n  }, {\n    name: \"bed and breakfast\",\n    id: \"category\"\n  }, {\n    name: \"villa\",\n    id: \"category\"\n  }, {\n    name: \"wifi\",\n    id: \"amenities\"\n  }, {\n    name: \"ac\",\n    id: \"amenities\"\n  }, {\n    name: \"kitchen\",\n    id: \"amenities\"\n  }, {\n    name: \"breakfast\",\n    id: \"amenities\"\n  }, {\n    name: \"pool\",\n    id: \"amenities\"\n  }, {\n    name: \"heater\",\n    id: \"amenities\"\n  }, {\n    name: \"frontedesk\",\n    id: \"amenities\"\n  }, {\n    name: \"0-1500\",\n    id: \"price\"\n  }, {\n    name: \"1500-3000\",\n    id: \"price\"\n  }, {\n    name: \"3000-5000\",\n    id: \"price\"\n  }]);\n  const [selected, setSelected] = useState();\n  useEffect(() => {\n    let temp = [];\n    parameters.forEach(elem => {\n      let index = filters.findIndex(filter => filter['name'] === elem);\n\n      if (index !== -1) {\n        temp.push(filters[index]);\n      }\n    });\n    setSelected(temp);\n  }, []);\n\n  const onSelect = (list, item) => {\n    let category = [];\n    let amenities = [];\n    let price = [];\n    list.forEach(elem => {\n      if (elem['id'] === 'category') {\n        category.push(elem['name']);\n      } else if (elem['id'] === 'amenities') {\n        amenities.push(elem['name']);\n      } else if (elem['id'] === 'price') {\n        price.push(elem['name']);\n      }\n    });\n    history.push(`/listing?search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${1}&per_page=${query.get('per_page')}&category=${category}&amenities=${amenities}&price=${price}`);\n  };\n\n  const onRemove = (list, item) => {\n    let category = [];\n    let amenities = [];\n    let price = [];\n    list.forEach(elem => {\n      if (elem['id'] === 'category') {\n        category.push(elem['name']);\n      } else if (elem['id'] === 'amenities') {\n        amenities.push(elem['name']);\n      } else if (elem['id'] === 'price') {\n        price.push(elem['name']);\n      }\n    });\n    history.push(`/listing?search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${query.get('page')}&per_page=${query.get('per_page')}&category=${category}&amenities=${amenities}&price=${price}`);\n  };\n\n  return /*#__PURE__*/React.createElement(Multiselect, {\n    options: filters // Options to display in the dropdown\n    ,\n    selectedValues: selected // Preselected value to persist in dropdown\n    ,\n    onSelect: onSelect // Function will trigger on select event\n    ,\n    onRemove: onRemove // Function will trigger on remove event\n    ,\n    displayValue: \"name\" // Property name to display in the dropdown options\n    ,\n    showCheckbox: true,\n    groupBy: \"id\",\n    closeOnSelect: false,\n    hidePlaceholder: true,\n    placeholder: \"Filters\",\n    style: {\n      chips: {\n        background: \"none\",\n        color: \"black\",\n        position: \"relative\",\n        left: \"10px\"\n      },\n      searchBox: {\n        \"display\": \"flex\",\n        \"height\": \"40px\",\n        \"width\": \"250px\",\n        \"white-space\": \"nowrap\",\n        \"overflow\": \"hidden\",\n        \"border\": \"none\",\n        \"text-overflow\": \"ellipsis\",\n        \"backgroundColor\": \"white\",\n        \"padding\": \"2px\",\n        \"margin-left\": \"2px\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  });\n}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-final/9flats/client/src/components/Listing/FilterDropdown.jsx"],"names":["React","useState","useEffect","Multiselect","useLocation","useHistory","FilterDropdown","location","history","query","URLSearchParams","search","pre_cat","get","split","pre_ame","pre_pri","parameters","concat","filters","setFilters","name","id","selected","setSelected","temp","forEach","elem","index","findIndex","filter","push","onSelect","list","item","category","amenities","price","onRemove","chips","background","color","position","left","searchBox"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { Multiselect } from 'multiselect-react-dropdown';\nimport {useLocation, useHistory} from 'react-router-dom'\n\n\nexport default function FilterDropdown(){\n    const location = useLocation()\n    const history = useHistory()\n    const query = new URLSearchParams(location.search)\n    let pre_cat = query.get('category').split(\",\")\n    let pre_ame = query.get('amenities').split(\",\")\n    let pre_pri = query.get('price').split(\",\")\n    let parameters = pre_cat.concat(pre_ame, pre_pri)\n\n    const [filters, setFilters] = useState([\n        {name:\"house\", id:\"category\"}, \n        {name:\"hotel\", id:\"category\"},\n        {name:\"hostel\", id:\"category\"},\n        {name:\"apartment\", id:\"category\"}, \n        {name:\"bed and breakfast\", id:\"category\"},\n        {name:\"villa\", id:\"category\"},\n        {name:\"wifi\", id:\"amenities\"},\n        {name:\"ac\",id:\"amenities\"} ,\n        {name:\"kitchen\", id:\"amenities\"},\n        {name:\"breakfast\", id:\"amenities\"},\n        {name:\"pool\", id:\"amenities\"},\n        {name:\"heater\", id:\"amenities\"},\n        {name:\"frontedesk\", id:\"amenities\"},\n        {name:\"0-1500\", id:\"price\"},\n        {name:\"1500-3000\", id:\"price\"},\n        {name:\"3000-5000\", id:\"price\"},\n    ])\n    \n    const [selected, setSelected] = useState()\n    \n\n    useEffect(()=>{\n        let temp = []\n        parameters.forEach(elem=>{\n            let index = filters.findIndex(filter => filter['name'] === elem )\n            if (index !== -1){\n                temp.push(filters[index])\n            }\n        })\n        setSelected(temp)\n    },[])\n\n    const onSelect = (list,item) => {\n        let category = []\n        let amenities = []\n        let price = []\n        list.forEach(elem =>{\n            if(elem['id'] === 'category'){\n                category.push(elem['name'])\n            }\n            else if(elem['id'] === 'amenities'){\n                amenities.push(elem['name'])\n            }\n            else if(elem['id'] === 'price'){\n                price.push(elem['name'])\n            }\n        })\n        \n        history.push(`/listing?search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${1}&per_page=${query.get('per_page')}&category=${category}&amenities=${amenities}&price=${price}`)         \n    }\n    const onRemove = (list, item) => {\n        let category = []\n        let amenities = []\n        let price = []\n        list.forEach(elem =>{\n            if(elem['id'] === 'category'){\n                category.push(elem['name'])\n            }\n            else if(elem['id'] === 'amenities'){\n                amenities.push(elem['name'])\n            }\n            else if(elem['id'] === 'price'){\n                price.push(elem['name'])\n            }\n        })\n        history.push(`/listing?search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${query.get('page')}&per_page=${query.get('per_page')}&category=${category}&amenities=${amenities}&price=${price}`)\n    } \n\n    \n    \n    return (\n        <Multiselect\n        options={filters} // Options to display in the dropdown\n        selectedValues={selected} // Preselected value to persist in dropdown\n        onSelect={onSelect} // Function will trigger on select event\n        onRemove={onRemove} // Function will trigger on remove event\n        displayValue=\"name\" // Property name to display in the dropdown options\n        showCheckbox={true}\n        groupBy=\"id\"\n        closeOnSelect={false}\n        hidePlaceholder={true}\n        placeholder=\"Filters\"\n        style = {{ chips: { background: \"none\", color:\"black\",position:\"relative\",left:\"10px\"}, \n        searchBox: {\n            \"display\":\"flex\",\n            \"height\":\"40px\", \n            \"width\":\"250px\",\n            \"white-space\": \"nowrap\", \n            \"overflow\": \"hidden\",\n            \"border\": \"none\",\n            \"text-overflow\": \"ellipsis\",\n            \"backgroundColor\":\"white\" ,\n            \"padding\":\"2px\",\n            \"margin-left\":\"2px\"\n            },\n        }}\n        />\n    )\n\n}"]},"metadata":{},"sourceType":"module"}