{"ast":null,"code":"var _jsxFileName = \"/home/sandeep/projects/9flats-final/9flats/client/src/components/Listing/PageList.jsx\";\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { v4 as uuidv4 } from 'uuid';\nimport styles from './ListingPage.module.css';\nexport default function PageList({\n  total_pages\n}) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  let pages = [];\n  const query = new URLSearchParams(location.search);\n  const activePage = query.get('page') === \"\" || null ? 1 : Number(query.get('page'));\n  console.log(\"page is \", activePage);\n\n  const handlePageChange = page => {\n    page = Number(page) ? page : Number(activePage) + 1;\n    let payload = `search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${page}&per_page=${query.get('per_page')}&category=${query.get('category')}&amenities=${query.get('amenities')}&price=${query.get('price')}`;\n    history.push(`/listing?${payload}`);\n  };\n\n  for (let i = activePage - 1; i >= 0 && i <= activePage + 3 && i <= total_pages; i++) {\n    if (i === activePage) {\n      pages.push( /*#__PURE__*/React.createElement(\"button\", {\n        className: `${styles.activepage}`,\n        key: uuidv4(),\n        onClick: () => handlePageChange(i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 24\n        }\n      }, i));\n      continue;\n    }\n\n    if (i === activePage - 1) {\n      if (i !== 0) {\n        pages.push( /*#__PURE__*/React.createElement(\"button\", {\n          key: uuidv4(),\n          onClick: () => handlePageChange(activePage - 1),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 28\n          }\n        }, \"\\u2190\"));\n      }\n\n      continue;\n    }\n\n    if (i === activePage + 3) {\n      pages.push( /*#__PURE__*/React.createElement(\"button\", {\n        key: uuidv4(),\n        onClick: () => handlePageChange(activePage + 1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 24\n        }\n      }, \"\\u2192\"));\n      continue;\n    }\n\n    pages.push( /*#__PURE__*/React.createElement(\"button\", {\n      key: uuidv4(),\n      onClick: () => handlePageChange(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }\n    }, i));\n  }\n\n  if (pages.length) {\n    return pages.map(page => /*#__PURE__*/React.createElement(\"div\", {\n      key: uuidv4(),\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }\n    }, page));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, \"Loading...\");\n  }\n}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-final/9flats/client/src/components/Listing/PageList.jsx"],"names":["React","useState","useDispatch","useLocation","useHistory","v4","uuidv4","styles","PageList","total_pages","dispatch","history","location","pages","query","URLSearchParams","search","activePage","get","Number","console","log","handlePageChange","page","payload","push","i","activepage","length","map"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,WAAR,EAAqBC,UAArB,QAAsC,kBAAtC;AACA,SAAQC,EAAE,IAAIC,MAAd,QAA2B,MAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAGA,eAAe,SAASC,QAAT,CAAkB;AAACC,EAAAA;AAAD,CAAlB,EAAgC;AAC3C,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAMS,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAMQ,QAAQ,GAAGT,WAAW,EAA5B;AAGA,MAAIU,KAAK,GAAG,EAAZ;AACA,QAAMC,KAAK,GAAG,IAAIC,eAAJ,CAAoBH,QAAQ,CAACI,MAA7B,CAAd;AACA,QAAMC,UAAU,GAAGH,KAAK,CAACI,GAAN,CAAU,MAAV,MAAsB,EAAtB,IAA4B,IAA5B,GAAmC,CAAnC,GAAuCC,MAAM,CAACL,KAAK,CAACI,GAAN,CAAU,MAAV,CAAD,CAAhE;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,UAAxB;;AACA,QAAMK,gBAAgB,GAAIC,IAAD,IAAU;AAC/BA,IAAAA,IAAI,GAAGJ,MAAM,CAACI,IAAD,CAAN,GAAeA,IAAf,GAAsBJ,MAAM,CAACF,UAAD,CAAN,GAAqB,CAAlD;AAGA,QAAIO,OAAO,GAAI,gBAAeV,KAAK,CAACI,GAAN,CAAU,cAAV,CAA0B,eAAcJ,KAAK,CAACI,GAAN,CAAU,YAAV,CAAwB,aAAYJ,KAAK,CAACI,GAAN,CAAU,UAAV,CAAsB,SAAQK,IAAK,aAAYT,KAAK,CAACI,GAAN,CAAU,UAAV,CAAsB,aAAYJ,KAAK,CAACI,GAAN,CAAU,UAAV,CAAsB,cAAaJ,KAAK,CAACI,GAAN,CAAU,WAAV,CAAuB,UAASJ,KAAK,CAACI,GAAN,CAAU,OAAV,CAAmB,EAAjR;AAEAP,IAAAA,OAAO,CAACc,IAAR,CAAc,YAAWD,OAAQ,EAAjC;AACH,GAPD;;AASA,OAAI,IAAIE,CAAC,GAAGT,UAAU,GAAG,CAAzB,EAA4BS,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAET,UAAU,GAAC,CAAxB,IAA6BS,CAAC,IAAIjB,WAA9D,EAA2EiB,CAAC,EAA5E,EAA+E;AAC3E,QAAGA,CAAC,KAAKT,UAAT,EAAoB;AAChBJ,MAAAA,KAAK,CAACY,IAAN,eAAW;AAAQ,QAAA,SAAS,EAAK,GAAElB,MAAM,CAACoB,UAAW,EAA1C;AAA6C,QAAA,GAAG,EAAErB,MAAM,EAAxD;AAA4D,QAAA,OAAO,EAAE,MAAIgB,gBAAgB,CAACI,CAAD,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+FA,CAA/F,CAAX;AACA;AACH;;AACD,QAAGA,CAAC,KAAKT,UAAU,GAAG,CAAtB,EAAwB;AACpB,UAAGS,CAAC,KAAK,CAAT,EAAW;AACPb,QAAAA,KAAK,CAACY,IAAN,eAAW;AAAQ,UAAA,GAAG,EAAEnB,MAAM,EAAnB;AAAuB,UAAA,OAAO,EAAE,MAAIgB,gBAAgB,CAACL,UAAU,GAAG,CAAd,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAX;AACH;;AACD;AACH;;AACD,QAAIS,CAAC,KAAKT,UAAU,GAAG,CAAvB,EAAyB;AACrBJ,MAAAA,KAAK,CAACY,IAAN,eAAW;AAAQ,QAAA,GAAG,EAAEnB,MAAM,EAAnB;AAAuB,QAAA,OAAO,EAAE,MAAIgB,gBAAgB,CAACL,UAAU,GAAG,CAAd,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAX;AACA;AACH;;AACDJ,IAAAA,KAAK,CAACY,IAAN,eAAW;AAAQ,MAAA,GAAG,EAAEnB,MAAM,EAAnB;AAAuB,MAAA,OAAO,EAAE,MAAIgB,gBAAgB,CAACI,CAAD,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0DA,CAA1D,CAAX;AAEH;;AAED,MAAGb,KAAK,CAACe,MAAT,EAAgB;AACZ,WACIf,KAAK,CAACgB,GAAN,CAAUN,IAAI,iBAAE;AAAK,MAAA,GAAG,EAAIjB,MAAM,EAAlB;AAAsB,MAAA,SAAS,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0CiB,IAA1C,CAAhB,CADJ;AAGH,GAJD,MAKI;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ;AAGH;AACJ","sourcesContent":["import React, {useState} from 'react'\nimport {useDispatch} from 'react-redux'\nimport {useLocation, useHistory} from 'react-router-dom'\nimport {v4 as uuidv4} from 'uuid'\nimport styles from './ListingPage.module.css'\n\n\nexport default function PageList({total_pages}){\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const location = useLocation()\n    \n\n    let pages = []\n    const query = new URLSearchParams(location.search)\n    const activePage = query.get('page') === \"\" || null ? 1 : Number(query.get('page'))\n    console.log(\"page is \", activePage)\n    const handlePageChange = (page) => {\n        page = Number(page) ? page : Number(activePage) + 1  \n        \n\n        let payload = `search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${page}&per_page=${query.get('per_page')}&category=${query.get('category')}&amenities=${query.get('amenities')}&price=${query.get('price')}`\n\n        history.push(`/listing?${payload}`)\n    } \n\n    for(let i = activePage - 1; i >= 0 && i<=activePage+3 && i <= total_pages; i++){\n        if(i === activePage){\n            pages.push(<button className = {`${styles.activepage}`} key={uuidv4()} onClick={()=>handlePageChange(i)}>{i}</button>)\n            continue\n        }\n        if(i === activePage - 1){\n            if(i !== 0){\n                pages.push(<button key={uuidv4()} onClick={()=>handlePageChange(activePage - 1)}>&#8592;</button>)\n            }\n            continue\n        }\n        if (i === activePage + 3){\n            pages.push(<button key={uuidv4()} onClick={()=>handlePageChange(activePage + 1)}>&#8594;</button>)\n            continue\n        }\n        pages.push(<button key={uuidv4()} onClick={()=>handlePageChange(i)}>{i}</button>)\n\n    }\n    \n    if(pages.length){\n        return (\n            pages.map(page=><div key = {uuidv4()} className=\"d-flex\">{page}</div>)\n        )\n    }\n    else{\n        return (\n            <div>Loading...</div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}