{"ast":null,"code":"import _defineProperty from\"/home/sandeep/projects/9flats-final/9flats/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/sandeep/projects/9flats-final/9flats/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/sandeep/projects/9flats-final/9flats/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sandeep/projects/9flats-final/9flats/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/sandeep/projects/9flats-final/9flats/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Form,Col}from\"react-bootstrap\";import{useLocation,useParams,useHistory}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{getOrderIdBackend,getPaymentBackend,getOtpBackend,verifyOtp,verifyOtpBackend,sendMailBackend}from'../../redux/actions/entityActions';import{Modal,Button}from'react-bootstrap';import ReactGA from'react-ga';import styles from'./Entity.module.css';function PropertyCheckout(){var location=useLocation();var params=useParams();var dispatch=useDispatch();var history=useHistory();var query=new URLSearchParams(location.search);var final_res=useSelector(function(state){return state.entity.validation;});var otp=useSelector(function(state){return state.entity.otp;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),display=_useState2[0],setDisplay=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),pay=_useState6[0],setPay=_useState6[1];useEffect(function(){if(final_res===null||final_res===void 0?void 0:final_res['status']){if(final_res['status']==='success'){console.log(final_res);dispatch(sendMailBackend(final_res));setDisplay(true);// history.push('/')\n}else{alert(final_res['message']);}}if(otp){if(otp['error']===false){if(pay===false){razorpay();setPay(true);}}else{setShow(true);}}},[final_res,otp]);var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),user_otp=_useState8[0],setUserOtp=_useState8[1];var handleOtpChange=function handleOtpChange(e){setUserOtp(e.target.value);};var _useState9=useState({\"firstname\":\"\",\"lastname\":\"\",\"email\":\"\",\"mobile\":\"\",\"property_id\":params['property_id'],\"start_date\":query.get('start_date'),\"end_date\":query.get('end_date'),\"days\":query.get('days'),\"price\":query.get('price'),\"room_type\":query.get('room_type')}),_useState10=_slicedToArray(_useState9,2),bookingInfo=_useState10[0],setBookingInfo=_useState10[1];// const [show, setShow] = useState(false);\n// const handleSimpleClose = () => setShow(false)\nvar handleClose=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(verifyOtpBackend({\"phone\":bookingInfo['mobile'],\"user_input\":user_otp}));case 2:setShow(false);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleClose(){return _ref.apply(this,arguments);};}();var handleSuccessClose=function handleSuccessClose(){setDisplay(false);history.push('/');};var handleShow=function handleShow(e){e.preventDefault();ReactGA.event({category:'Button',action:'user clicked the confirm booking button'});dispatch(getOtpBackend({\"phone\":bookingInfo['mobile']}));setShow(true);};var handleChange=function handleChange(e){setBookingInfo(_objectSpread(_objectSpread({},bookingInfo),{},_defineProperty({},e.target.name,e.target.value)));};var razorpay=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var order_res,options,rzp_trial;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return dispatch(getOrderIdBackend(bookingInfo));case 3:order_res=_context3.sent;console.log(order_res);options={\"key\":\"rzp_test_lskMJcJY6Yjp9c\",// Enter the Key ID generated from the Dashboard\n\"amount\":order_res['amount'],// Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n\"currency\":\"INR\",\"name\":\"9flats\",\"description\":\"Test Transaction\",\"image\":\"https://assets.9flats.com/assets/new_home/logo-0aee51de5d08cfd71ad01d410e9b61ad821b8768f3c9de039f6bb6e48b792be7.svg\",\"order_id\":order_res['id'],//This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n\"prefill\":{\"name\":\"Username\",\"email\":\"User email address\",\"contact\":\"9999999999\"},\"notes\":{\"address\":\"Razorpay Corporate Office\"},\"theme\":{\"color\":\"#F37254\"},handler:function(){var _handler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response){var payload;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(response);payload=_objectSpread(_objectSpread({},response),bookingInfo);_context2.next=4;return dispatch(getPaymentBackend(payload));case 4:case\"end\":return _context2.stop();}}},_callee2);}));function handler(_x){return _handler.apply(this,arguments);}return handler;}()};rzp_trial=window.Razorpay(options);rzp_trial.open();_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function razorpay(){return _ref2.apply(this,arguments);};}();console.log(otp);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(styles.description,\" container mt-3\")},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-5\",style:{marginTop:80}},/*#__PURE__*/React.createElement(\"div\",{className:\" order-md-1 order-2 col-12 col-md-6 p-3\"},/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"rgb(22, 139, 160)\"}},/*#__PURE__*/React.createElement(\"b\",null,\"Enter Your Details\")),/*#__PURE__*/React.createElement(Form,{className:\"mt-4\",onSubmit:function onSubmit(e){return razorpay(e);}},/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridFirstName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"First Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"First Name\",name:\"firstname\",onChange:function onChange(e){return handleChange(e);},required:true})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridLastName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Last Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Last Name\",name:\"lastname\",onChange:function onChange(e){return handleChange(e);}}))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email Id\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Email \",name:\"email\",required:true,onChange:function onChange(e){return handleChange(e);}})),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridContactNo\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Contact No.\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",placeholder:\"Contact No.\",name:\"mobile\",onChange:function onChange(e){return handleChange(e);},required:true}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGridAddress1\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Address\"),/*#__PURE__*/React.createElement(Form.Control,{placeholder:\"1234 Main St\"})),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridCity\"},/*#__PURE__*/React.createElement(Form.Label,null,\"City\"),/*#__PURE__*/React.createElement(Form.Control,null)),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridState\"},/*#__PURE__*/React.createElement(Form.Label,null,\"State\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",defaultValue:\"Choose...\"},/*#__PURE__*/React.createElement(\"option\",null,\"Choose...\"),/*#__PURE__*/React.createElement(\"option\",null,\"...\"))),/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"formGridZip\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Zip\"),/*#__PURE__*/React.createElement(Form.Control,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{className:\"\".concat(styles.checkbutton,\" px-5\"),onClick:handleShow},\"Confirm Booking\"),otp===\"\"||(otp===null||otp===void 0?void 0:otp['error'])===false?/*#__PURE__*/React.createElement(Modal,{show:show,onHide:handleClose},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,\"OTP Verification\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(styles.successmodal,\" m-auto\")},\"Please enter the opt sent to your mobile!\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"OTP from mobile\",value:user_otp,onChange:function onChange(e){return handleOtpChange(e);}}))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto\"},/*#__PURE__*/React.createElement(Button,{variant:\"success\",className:\"mx-2\",onClick:handleClose},\"Verify OTP\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",className:\"mx-2\",onClick:handleClose},\"Close\")))):/*#__PURE__*/React.createElement(Modal,{show:show,onHide:handleClose},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,\"OTP Verification\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(styles.successmodal,\" m-auto\")},\"Please enter the opt sent to your mobile!\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"OTP from mobile\",value:user_otp,onChange:function onChange(e){return handleOtpChange(e);}}))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"success\",className:\"mx-2\",onClick:handleClose},\"Verify OTP\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",className:\"mx-2\",onClick:handleClose},\"Close\")),/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},\"OTP invalid. Please try again\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\" order-md-2 order-1 col-12 col-md-6 d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"border rounded shadow p-3\",style:{width:350}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-cotent-center align-items-center mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"b\",null,query.get('hotel'))),/*#__PURE__*/React.createElement(\"p\",null,query.get('room_type'),\" room in \",query.get('hotel'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",src:\"https://q-xx.bstatic.com/xdata/images/hotel/max500/16186396.jpg?k=ee4495ac70ef5c8665f457cbd509bd0a606be9f8ce41eef4eb2befd278ab0379&o=\",alt:\"\"}))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row my-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"https://img.icons8.com/ios/30/000000/guest-male.png\",alt:\"\"}),\" 2 guest\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"https://img.icons8.com/ios/30/000000/planner.png\",alt:\"\"}),\"  \",query.get('start_date'),\" \\u2192 \",query.get('end_date'))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-cotent-center align-items-center\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-borderless \"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u20B9\",query.get('price'),\" x \",query.get('days'),\" night\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},\"\\u20B9\",Number(query.get('days')*Number(query.get('price'))))),/*#__PURE__*/React.createElement(\"tr\",{className:\"border-top\"},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},\"Total(INR)\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"b\",null,\"\\u20B9\",Number(query.get('days')*Number(query.get('price'))))))))))),/*#__PURE__*/React.createElement(\"div\",null,final_res?/*#__PURE__*/React.createElement(\"div\",{className:styles.successmodal,style:{\"height\":\"400px\"}},/*#__PURE__*/React.createElement(Modal,{show:display,onHide:handleSuccessClose},/*#__PURE__*/React.createElement(Modal.Header,{className:\"d-flex flex-column border-light align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{clasName:\"m-auto\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-success\"},\"Payment Confirmation!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://cdn3.iconfinder.com/data/icons/flat-actions-icons-9/792/Tick_Mark_Dark-512.png\",width:\"120px\",height:\"150px\"}))),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table table-sm table-bordered\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Name\")),/*#__PURE__*/React.createElement(\"td\",null,final_res['bookingInfo']['firstname'],\" \",final_res['bookingInfo']['lastname'])),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Email\")),/*#__PURE__*/React.createElement(\"td\",null,final_res['bookingInfo']['email'])),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Phone\")),/*#__PURE__*/React.createElement(\"td\",null,final_res['bookingInfo']['mobile'])),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Order Id\")),/*#__PURE__*/React.createElement(\"td\",null,final_res['bookingInfo']['razorpay_order_id'])),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Payment Id\")),/*#__PURE__*/React.createElement(\"td\",null,final_res['bookingInfo']['razorpay_payment_id']))))),/*#__PURE__*/React.createElement(Modal.Footer,{className:\"border-light\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success m-auto px-5 py-2\",onClick:handleSuccessClose},\"Close\")))):null))));}export default PropertyCheckout;","map":{"version":3,"sources":["/home/sandeep/projects/9flats-final/9flats/client/src/components/Entity/CheckoutForm.jsx"],"names":["React","useState","useEffect","Form","Col","useLocation","useParams","useHistory","useDispatch","useSelector","getOrderIdBackend","getPaymentBackend","getOtpBackend","verifyOtp","verifyOtpBackend","sendMailBackend","Modal","Button","ReactGA","styles","PropertyCheckout","location","params","dispatch","history","query","URLSearchParams","search","final_res","state","entity","validation","otp","display","setDisplay","show","setShow","pay","setPay","console","log","alert","razorpay","user_otp","setUserOtp","handleOtpChange","e","target","value","get","bookingInfo","setBookingInfo","handleClose","handleSuccessClose","push","handleShow","preventDefault","event","category","action","handleChange","name","order_res","options","handler","response","payload","rzp_trial","window","Razorpay","open","description","marginTop","color","checkbutton","successmodal","width","Number"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport { Form, Col } from \"react-bootstrap\"\nimport {useLocation, useParams, useHistory} from 'react-router-dom'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {getOrderIdBackend, getPaymentBackend, getOtpBackend, verifyOtp, verifyOtpBackend, sendMailBackend} from '../../redux/actions/entityActions'\nimport {Modal, Button} from 'react-bootstrap'\nimport ReactGA from 'react-ga'\nimport styles from './Entity.module.css'\n\n\nfunction PropertyCheckout() {\n    const location = useLocation()\n    const params = useParams()\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const query = new URLSearchParams(location.search) \n    const final_res = useSelector(state => state.entity.validation)\n    const otp = useSelector(state => state.entity.otp) \n\n    const [display,setDisplay] = useState(false)\n    const [show, setShow] = useState(false);\n    const [pay, setPay] = useState(false)\n    useEffect(()=>{\n        if(final_res?.['status']){\n            if(final_res['status'] === 'success'){\n                console.log(final_res)\n                dispatch(sendMailBackend(final_res))\n                setDisplay(true)\n                // history.push('/')\n            }\n            else{\n                alert(final_res['message'])\n            }\n        }\n        if(otp){\n            if(otp['error'] === false){\n                if(pay === false){\n                    razorpay()\n                    setPay(true)\n                }\n            }\n            else{\n                setShow(true)\n            }\n        }\n    },[final_res,otp])\n\n    const [user_otp, setUserOtp] = useState(\"\")\n\n    const handleOtpChange = (e) => {\n        setUserOtp(e.target.value)\n    }\n\n    const [bookingInfo, setBookingInfo] = useState({\n        \"firstname\":\"\",\n        \"lastname\":\"\",\n        \"email\":\"\",\n        \"mobile\":\"\",\n        \"property_id\":params['property_id'],\n        \"start_date\":query.get('start_date'),\n        \"end_date\":query.get('end_date'),\n        \"days\":query.get('days'),\n        \"price\":query.get('price'),\n        \"room_type\":query.get('room_type'),\n    })\n    // const [show, setShow] = useState(false);\n\n    // const handleSimpleClose = () => setShow(false)\n    \n    const handleClose = async() => {\n        await dispatch(verifyOtpBackend({\"phone\":bookingInfo['mobile'], \"user_input\":user_otp}))   \n        setShow(false) \n    }\n\n    const handleSuccessClose = () => {\n        setDisplay(false)\n        history.push('/')\n    }\n    const handleShow = (e) => {\n        e.preventDefault()\n        ReactGA.event({\n            category:'Button',\n            action:'user clicked the confirm booking button'\n        })\n        dispatch(getOtpBackend({\"phone\":bookingInfo['mobile']}))\n        setShow(true)\n    }\n    const handleChange = (e) => {\n        setBookingInfo({\n            ...bookingInfo,\n            [e.target.name]:e.target.value\n        })\n    }\n    const razorpay = async() => {\n        \n        try {\n            let order_res = await dispatch(getOrderIdBackend(bookingInfo))\n            console.log(order_res)\n        var options = {\n            \"key\": \"rzp_test_lskMJcJY6Yjp9c\", // Enter the Key ID generated from the Dashboard\n            \"amount\": order_res['amount'], // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n            \"currency\": \"INR\",\n            \"name\": \"9flats\",\n            \"description\": \"Test Transaction\",\n            \"image\": \"https://assets.9flats.com/assets/new_home/logo-0aee51de5d08cfd71ad01d410e9b61ad821b8768f3c9de039f6bb6e48b792be7.svg\",\n            \"order_id\": order_res['id'], //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n            \"prefill\": {\n                \"name\": \"Username\",\n                \"email\": \"User email address\",\n                \"contact\": \"9999999999\"\n            },\n            \"notes\": {\n                \"address\": \"Razorpay Corporate Office\"\n            },\n            \"theme\": {\n                \"color\": \"#F37254\"\n            },\n            handler: async (response) => {\n                console.log(response)\n                let payload = {\n                    ...response,\n                    ...bookingInfo\n                }\n                await dispatch(getPaymentBackend(payload))                \n            },\n        };\n        const rzp_trial = window.Razorpay(options);\n        rzp_trial.open();\n        } catch (error) {\n            console.log(error)\n        }\n    }\n    console.log(otp)\n    return (\n        <div>\n            <div className={`${styles.description} container mt-3`}>\n                <div className=\"row mb-5\" style={{ marginTop: 80 }} >\n                    <div className=\" order-md-1 order-2 col-12 col-md-6 p-3\">\n                        <h3 style={{ color: \"rgb(22, 139, 160)\" }}><b>Enter Your Details</b></h3>\n                        <Form className=\"mt-4\" onSubmit = {(e)=>razorpay(e)}>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridFirstName\">\n                                    <Form.Label>First Name</Form.Label>\n                                    <Form.Control type=\"text\" placeholder=\"First Name\" name=\"firstname\" onChange={(e)=>handleChange(e)} required/>\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridLastName\">\n                                    <Form.Label>Last Name</Form.Label>\n                                    <Form.Control type=\"text\" placeholder=\"Last Name\" name=\"lastname\" onChange={(e)=>handleChange(e)} />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridEmail\">\n                                    <Form.Label>Email Id</Form.Label>\n                                    <Form.Control type=\"email\" placeholder=\"Email \" name=\"email\" required onChange={(e)=>handleChange(e)} />\n                                </Form.Group>\n                                <Form.Group  as={Col} controlId=\"formGridContactNo\">\n                                    <Form.Label>Contact No.</Form.Label>\n                                    <Form.Control type=\"number\" placeholder=\"Contact No.\" name=\"mobile\" onChange={(e)=>handleChange(e)} required />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Group controlId=\"formGridAddress1\">\n                                <Form.Label>Address</Form.Label>\n                                <Form.Control placeholder=\"1234 Main St\" />\n                            </Form.Group>\n\n\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridCity\">\n                                    <Form.Label>City</Form.Label>\n                                    <Form.Control />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridState\">\n                                    <Form.Label>State</Form.Label>\n                                    <Form.Control as=\"select\" defaultValue=\"Choose...\">\n                                        <option>Choose...</option>\n                                        <option>...</option>\n                                    </Form.Control>\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridZip\">\n                                    <Form.Label>Zip</Form.Label>\n                                    <Form.Control />\n                                </Form.Group>\n                            </Form.Row>\n                            <div className=\"text-center\">\n                                {/* <button className=\"btn btn-success btn-block\" type=\"submit\">Confirm Booking</button> */}\n                                <Button className={`${styles.checkbutton} px-5`} onClick={handleShow}>\n                                Confirm Booking\n                                </Button>\n\n                                {otp === \"\" || otp?.['error'] === false? \n                                <Modal show={show} onHide={handleClose}>\n                                <Modal.Header closeButton>\n                                <Modal.Title>OTP Verification</Modal.Title>\n                                </Modal.Header>\n                                <Modal.Body>\n                                    <div className={`${styles.successmodal} m-auto`}>\n                                        Please enter the opt sent to your mobile!\n                                        <input type=\"text\"\n                                        placeholder = \"OTP from mobile\"\n                                        value={user_otp}\n                                        onChange={(e)=>handleOtpChange(e)}/>\n                                    </div>\n                                </Modal.Body>\n                                <Modal.Footer>\n                                    <div className=\"m-auto\">\n                                    <Button variant=\"success\" className=\"mx-2\" onClick={handleClose}>\n                                        Verify OTP\n                                    </Button>\n                                    <Button variant=\"danger\" className=\"mx-2\" onClick={handleClose}>\n                                        Close\n                                    </Button>\n                                    </div>\n                                </Modal.Footer>\n                            </Modal>:\n                            <Modal show={show} onHide={handleClose}>\n                            <Modal.Header closeButton>\n                            <Modal.Title>OTP Verification</Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                <div className={`${styles.successmodal} m-auto`}>\n                                    Please enter the opt sent to your mobile!\n                                    <input type=\"text\"\n                                    placeholder = \"OTP from mobile\"\n                                    value={user_otp}\n                                    onChange={(e)=>handleOtpChange(e)}/>\n                                </div>\n                            </Modal.Body>\n                            <Modal.Footer>\n                                <div>\n                                <Button variant=\"success\" className = \"mx-2\" onClick={handleClose}>\n                                    Verify OTP\n                                </Button>\n                                <Button variant=\"danger\" className = \"mx-2\" onClick={handleClose}>\n                                    Close\n                                </Button>\n                                </div>\n                            <small className=\"text-danger\">OTP invalid. Please try again</small>\n                            </Modal.Footer>\n                        </Modal>}\n                            </div>\n                        </Form>\n                    </div>\n                    <div className=\" order-md-2 order-1 col-12 col-md-6 d-flex justify-content-center align-items-center\" >\n                        <div className=\"border rounded shadow p-3\" style={{ width: 350 }}>\n                            <div className=\"d-flex flex-row justify-cotent-center align-items-center mt-3\" >\n                                <div className=\"col-8\">\n                                    <h6><b>{query.get('hotel')}</b></h6>\n                                    <p>{query.get('room_type')} room in {query.get('hotel')}</p>\n                                </div>\n                                <div className=\"col-4\">\n                                    <img className=\"img-fluid\" src=\"https://q-xx.bstatic.com/xdata/images/hotel/max500/16186396.jpg?k=ee4495ac70ef5c8665f457cbd509bd0a606be9f8ce41eef4eb2befd278ab0379&amp;o=\" alt=\"\" />\n                                </div>\n                            </div>\n                            <hr />\n                            <div className=\"d-flex flex-row my-4\">\n                                <div className=\"col-12\">\n                                    <div className=\"mb-2\">\n                                        <span><img src=\"https://img.icons8.com/ios/30/000000/guest-male.png\" alt=\"\" /> 2 guest</span>\n                                    </div>\n                                    <div>\n                                        <span><img src=\"https://img.icons8.com/ios/30/000000/planner.png\" alt=\"\" />  {query.get('start_date')} &#8594; {query.get('end_date')}</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"d-flex flex-row justify-cotent-center align-items-center\">\n                                <table className=\"table table-borderless \">\n                                    <tbody>\n                                        <tr>\n                                            <td >₹{query.get('price')} x {query.get('days')} night</td>\n                                            <td className=\"text-right\">₹{Number(query.get('days') * Number(query.get('price')))}</td>\n                                        </tr>\n                                        <tr className=\"border-top\">\n                                            <th scope=\"row\">Total(INR)</th>\n                                            <td className=\"text-right\"><b>₹{Number(query.get('days') * Number(query.get('price')))}</b></td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        {final_res ? \n                            <div className={styles.successmodal} style={{\"height\":\"400px\"}}>\n                                <Modal show={display} onHide={handleSuccessClose}>\n                                    <Modal.Header className=\"d-flex flex-column border-light align-items-center\">\n                                    <div clasName=\"m-auto\"><h2 className=\"text-success\">Payment Confirmation!</h2></div>\n                                    <div className=\"m-auto\">\n                                        <img src=\"https://cdn3.iconfinder.com/data/icons/flat-actions-icons-9/792/Tick_Mark_Dark-512.png\" width=\"120px\" height=\"150px\"></img>\n                                    </div>\n                                    </Modal.Header>\n                                    <Modal.Body>\n                                        <table className=\"table table-sm table-bordered\">\n                                            <tbody>\n                                                <tr>\n                                                    <td><strong>Name</strong></td>\n                                                    <td>{final_res['bookingInfo']['firstname']} {final_res['bookingInfo']['lastname']}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td><strong>Email</strong></td>\n                                                    <td>{final_res['bookingInfo']['email']}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td><strong>Phone</strong></td>\n                                                    <td>{final_res['bookingInfo']['mobile']}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td><strong>Order Id</strong></td>\n                                                    <td>{final_res['bookingInfo']['razorpay_order_id']}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td><strong>Payment Id</strong></td>\n                                                    <td>{final_res['bookingInfo']['razorpay_payment_id']}</td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </Modal.Body>\n                                    <Modal.Footer className=\"border-light\">\n                                    <Button className=\"btn btn-success m-auto px-5 py-2\" onClick={handleSuccessClose}>\n                                        Close\n                                    </Button>\n                                    </Modal.Footer>\n                                </Modal>\n                            </div>:\n                        null}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default PropertyCheckout\n"]},"metadata":{},"sourceType":"module"}