{"ast":null,"code":"var _jsxFileName = \"/home/sandeep/projects/9flats-final/9flats/client/src/components/Entity/Table.jsx\";\nimport React from 'react';\nimport single from '../Entity/Resources/Images/single.png';\nimport double from '../Entity/Resources/Images/double.png';\nimport triple from '../Entity/Resources/Images/triple.png';\nimport { useLocation, useHistory, useParams } from 'react-router-dom';\nimport styles from './Entity.module.css';\nexport default function Table({\n  rooms,\n  room_status,\n  basicDetails\n}) {\n  const location = useLocation();\n  const history = useHistory();\n  const params = useParams();\n  const query = new URLSearchParams(location.search);\n\n  const handleBook = (price, room, name) => {\n    const s_date = query.get('start_date').split(\"-\").map(Number);\n    const d1 = new Date(s_date[0], s_date[1] - 1, s_date[2]);\n    const e_date = query.get('end_date').split(\"-\").map(Number);\n    const d2 = new Date(e_date[0], e_date[1] - 1, e_date[2]);\n    let days = Math.round((d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\n    let payload = `/${params['property_id']}?&hotel=${name}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&days=${days}&price=${price}&room_type=${room}`;\n    history.push(`/payment${payload}`);\n  };\n\n  console.log(rooms, room_status);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead\",\n    style: {\n      backgroundColor: \"rgb(4, 177, 177)\",\n      color: \"white\",\n      position: \"sticky\",\n      top: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"text-center\",\n    style: {\n      width: \"30%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 33\n    }\n  }, \"Types of Rooms\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"text-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 33\n    }\n  }, \"Sleeps\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"text-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 33\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"text-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 33\n    }\n  }, \"Availability\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"text-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 33\n    }\n  }, \"Book\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, rooms ? rooms.map(elem => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: `${styles.roomtd} d-inline-block`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 45\n      }\n    }, elem['room_type'].charAt(0).toUpperCase() + elem['room_type'].slice(1)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 134\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: elem['capacity'] === 1 ? single : elem['capacity'] === 2 ? double : elem['capacity'] === 4 ? triple : \"NA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }\n    }, elem['price']), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 41\n      }\n    }, room_status[elem['room_type']]), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 41\n      }\n    }, room_status[elem['room_type']] !== 'booked' ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-success\",\n      onClick: () => handleBook(elem['price'], elem['room_type'], basicDetails['name']),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 45\n      }\n    }, \"Book Now\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-success disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 45\n      }\n    }, \"Book Now\")));\n  }) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 36\n    }\n  }, \"Loading...\")))))));\n}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-final/9flats/client/src/components/Entity/Table.jsx"],"names":["React","single","double","triple","useLocation","useHistory","useParams","styles","Table","rooms","room_status","basicDetails","location","history","params","query","URLSearchParams","search","handleBook","price","room","name","s_date","get","split","map","Number","d1","Date","e_date","d2","days","Math","round","getTime","payload","push","console","log","backgroundColor","color","position","top","width","elem","roomtd","charAt","toUpperCase","slice"],"mappings":"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","sourcesContent":["import React from 'react'\nimport single from '../Entity/Resources/Images/single.png'\nimport double from '../Entity/Resources/Images/double.png'\nimport triple from '../Entity/Resources/Images/triple.png'\nimport {useLocation, useHistory, useParams} from 'react-router-dom'\nimport styles from './Entity.module.css'\n\nexport default function Table({rooms, room_status, basicDetails}) {\n    const location = useLocation()\n    const history = useHistory()\n    const params = useParams()\n\n    const query = new URLSearchParams(location.search)\n    \n    const handleBook = (price, room, name) =>{\n        const s_date = query.get('start_date').split(\"-\").map(Number)\n        const d1 = new Date(s_date[0], s_date[1] - 1, s_date[2])\n\n        const e_date = query.get('end_date').split(\"-\").map(Number)\n        const d2 = new Date(e_date[0], e_date[1] - 1, e_date[2])\n\n        let days = Math.round((d2.getTime()-d1.getTime())/(1000*60*60*24))\n\n        let payload = `/${params['property_id']}?&hotel=${name}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&days=${days}&price=${price}&room_type=${room}`\n        history.push(`/payment${payload}`)\n    }\n    console.log(rooms, room_status)\n    return (\n        <div>\n            <div className=\"container\">\n                <div className=\"mb-3 p-0\">\n                    <table className=\"table\">\n                        <thead className=\"thead\" style={{backgroundColor:\"rgb(4, 177, 177)\", color:\"white\", position:\"sticky\", top:0, }}>\n                            <tr>\n                                <th scope=\"col\" className=\"text-center\" style={{ width: \"30%\" }}>Types of Rooms</th>\n                                <th scope=\"col\" className=\"text-center \">Sleeps</th>\n                                <th scope=\"col\" className=\"text-center \">Price</th>\n                                <th scope=\"col\" className=\"text-center \">Availability</th>\n                                <th scope=\"col\" className=\"text-center \">Book</th>\n                            </tr>\n                        </thead>\n                        <tbody >\n                            {rooms ? rooms.map(elem => {\n                                return (\n                                    <tr>\n                                        <td className={`${styles.roomtd} d-inline-block`}>\n                                            <strong>{elem['room_type'].charAt(0).toUpperCase() + elem['room_type'].slice(1)}</strong><br></br>\n                                        </td>\n                                        <td className=\"text-center\">\n                                            <img src={elem['capacity'] === 1 ? single :\n                                            elem['capacity'] === 2 ? double :\n                                            elem['capacity'] === 4 ? triple :\n                                            \"NA\"}></img>\n                                        </td>\n                                        <td className=\"text-center\">\n                                            {elem['price']}\n                                        </td>\n                                        <td className=\"text-center\">\n                                            {room_status[elem['room_type']]}\n                                        </td>\n                                        <td className=\"text-center\">\n                                            {room_status[elem['room_type']] !== 'booked'? \n                                            <button className=\"btn btn-sm btn-success\"\n                                            onClick = {()=>handleBook(elem['price'], elem['room_type'], basicDetails['name'])}>\n                                                Book Now\n                                            </button>:\n                                            <button className=\"btn btn-sm btn-success disabled\">\n                                                Book Now\n                                            </button>}\n                                        </td>\n                                    </tr>\n                                )\n                            }):<tr><td>Loading...</td></tr>}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}