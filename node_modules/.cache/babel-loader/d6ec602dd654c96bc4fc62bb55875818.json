{"ast":null,"code":"var _jsxFileName = \"/home/sandeep/projects/9flats-final/9flats/client/src/components/Entity/CheckoutForm.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Col } from \"react-bootstrap\";\nimport { useLocation, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getOrderIdBackend, getPaymentBackend, getOtpBackend, verifyOtp, verifyOtpBackend, sendMailBackend } from '../../redux/actions/entityActions';\nimport axios from 'axios';\nimport { Modal, Button } from 'react-bootstrap';\nimport ReactGA from 'react-ga';\n\nfunction PropertyCheckout() {\n  const location = useLocation();\n  const params = useParams();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const query = new URLSearchParams(location.search);\n  const final_res = useSelector(state => state.entity.validation);\n  const otp = useSelector(state => state.entity.otp);\n  const [show, setShow] = useState(false);\n  const [pay, setPay] = useState(false);\n  useEffect(() => {\n    if (final_res === null || final_res === void 0 ? void 0 : final_res['status']) {\n      if (final_res['status'] === 'success') {\n        console.log(final_res);\n        dispatch(sendMailBackend(final_res));\n        alert(final_res['message']);\n        history.push('/');\n      } else {\n        alert(final_res['message']);\n      }\n    }\n\n    if (otp) {\n      if (otp['error'] === false) {\n        if (pay === false) {\n          razorpay();\n          setPay(true);\n        }\n      } else {\n        setShow(true);\n      }\n    }\n  }, [final_res, otp]);\n  const [user_otp, setUserOtp] = useState(\"\");\n\n  const handleOtpChange = e => {\n    setUserOtp(e.target.value);\n  };\n\n  const [bookingInfo, setBookingInfo] = useState({\n    \"firstname\": \"\",\n    \"lastname\": \"\",\n    \"email\": \"\",\n    \"mobile\": \"\",\n    \"property_id\": params['property_id'],\n    \"start_date\": query.get('start_date'),\n    \"end_date\": query.get('end_date'),\n    \"days\": query.get('days'),\n    \"price\": query.get('price'),\n    \"room_type\": query.get('room_type')\n  }); // const [show, setShow] = useState(false);\n  // const handleSimpleClose = () => setShow(false)\n\n  const handleClose = async () => {\n    await dispatch(verifyOtpBackend({\n      \"phone\": bookingInfo['mobile'],\n      \"user_input\": user_otp\n    }));\n    setShow(false);\n  };\n\n  const handleShow = e => {\n    e.preventDefault();\n    ReactGA.event({\n      category: 'Button',\n      action: 'user clicked the confirm booking button'\n    });\n    dispatch(getOtpBackend({\n      \"phone\": bookingInfo['mobile']\n    }));\n    setShow(true);\n  };\n\n  const handleChange = e => {\n    setBookingInfo({ ...bookingInfo,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const razorpay = async () => {\n    try {\n      let order_res = await dispatch(getOrderIdBackend(bookingInfo));\n      console.log(order_res);\n      var options = {\n        \"key\": \"rzp_test_lskMJcJY6Yjp9c\",\n        // Enter the Key ID generated from the Dashboard\n        \"amount\": order_res['amount'],\n        // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n        \"currency\": \"INR\",\n        \"name\": \"9flats\",\n        \"description\": \"Test Transaction\",\n        \"image\": \"https://assets.9flats.com/assets/new_home/logo-0aee51de5d08cfd71ad01d410e9b61ad821b8768f3c9de039f6bb6e48b792be7.svg\",\n        \"order_id\": order_res['id'],\n        //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n        \"prefill\": {\n          \"name\": \"Username\",\n          \"email\": \"User email address\",\n          \"contact\": \"9999999999\"\n        },\n        \"notes\": {\n          \"address\": \"Razorpay Corporate Office\"\n        },\n        \"theme\": {\n          \"color\": \"#F37254\"\n        },\n        handler: async response => {\n          console.log(response);\n          let payload = { ...response,\n            ...bookingInfo\n          };\n          await dispatch(getPaymentBackend(payload));\n        }\n      };\n      const rzp_trial = window.Razorpay(options);\n      rzp_trial.open();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log(otp);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-5\",\n    style: {\n      marginTop: 80\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" order-md-1 order-2 col-12 col-md-6 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: \"rgb(22, 139, 160)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 68\n    }\n  }, \"Enter Your Details\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-4\",\n    onSubmit: e => razorpay(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridFirstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 37\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"First Name\",\n    name: \"firstname\",\n    onChange: e => handleChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridLastName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 37\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Last Name\",\n    name: \"lastname\",\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 37\n    }\n  }, \"Email Id\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Email \",\n    name: \"email\",\n    required: true,\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridContactNo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }, \"Contact No.\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    placeholder: \"Contact No.\",\n    name: \"mobile\",\n    onChange: e => handleChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formGridAddress1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    placeholder: \"1234 Main St\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridCity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 37\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(Form.Control, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridState\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }, \"State\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    defaultValue: \"Choose...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 41\n    }\n  }, \"...\"))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridZip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 37\n    }\n  }, \"Zip\"), /*#__PURE__*/React.createElement(Form.Control, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, \"Confirm Booking\"), otp === \"\" || (otp === null || otp === void 0 ? void 0 : otp['error']) === false ? /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 33\n    }\n  }, \"Modal heading\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 33\n    }\n  }, \"Please enter the opt sent to your mobile!\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"OTP from mobile\",\n    value: user_otp,\n    onChange: e => handleOtpChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 33\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }, \"Save Changes\"))) : /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 29\n    }\n  }, \"Modal heading\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, \"Please enter the opt sent to your mobile!\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"OTP from mobile\",\n    value: user_otp,\n    onChange: e => handleOtpChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 29\n    }\n  }, \"Save Changes\"), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 29\n    }\n  }, \"OTP invalid. Please try again\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" order-md-2 order-1 col-12 col-md-6 d-flex justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border rounded shadow p-3\",\n    style: {\n      width: 350\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row justify-cotent-center align-items-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 41\n    }\n  }, \"The Trident\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 37\n    }\n  }, \"Private room in farm stay in Bangalore\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid\",\n    src: \"https://q-xx.bstatic.com/xdata/images/hotel/max500/16186396.jpg?k=ee4495ac70ef5c8665f457cbd509bd0a606be9f8ce41eef4eb2befd278ab0379&o=\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://img.icons8.com/ios/30/000000/guest-male.png\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 47\n    }\n  }), \" 1 guest\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://img.icons8.com/ios/30/000000/planner.png\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 47\n    }\n  }), \"  Jul 31, 2020 \\u2192 Aug 1, 2020\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row justify-cotent-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-borderless \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 45\n    }\n  }, \"\\u20B91,200.00 x 1 night\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 45\n    }\n  }, \"\\u20B91,200.00\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 45\n    }\n  }, \"Service fee\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 45\n    }\n  }, \"\\u20B9169.41\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 45\n    }\n  }, \"Occupancy taxes and fees\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 45\n    }\n  }, \"\\u20B9144.00\")), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"border-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 45\n    }\n  }, \"Total(INR)\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 72\n    }\n  }, \"\\u20B91,513.41\")))))))))));\n}\n\nexport default PropertyCheckout;","map":{"version":3,"sources":["/home/sandeep/projects/9flats-final/9flats/client/src/components/Entity/CheckoutForm.jsx"],"names":["React","useState","useEffect","Form","Col","useLocation","useParams","useHistory","useDispatch","useSelector","getOrderIdBackend","getPaymentBackend","getOtpBackend","verifyOtp","verifyOtpBackend","sendMailBackend","axios","Modal","Button","ReactGA","PropertyCheckout","location","params","dispatch","history","query","URLSearchParams","search","final_res","state","entity","validation","otp","show","setShow","pay","setPay","console","log","alert","push","razorpay","user_otp","setUserOtp","handleOtpChange","e","target","value","bookingInfo","setBookingInfo","get","handleClose","handleShow","preventDefault","event","category","action","handleChange","name","order_res","options","handler","response","payload","rzp_trial","window","Razorpay","open","error","marginTop","color","width"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport { Form, Col } from \"react-bootstrap\"\nimport {useLocation, useParams, useHistory} from 'react-router-dom'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {getOrderIdBackend, getPaymentBackend, getOtpBackend, verifyOtp, verifyOtpBackend, sendMailBackend} from '../../redux/actions/entityActions'\nimport axios from 'axios'\nimport {Modal, Button} from 'react-bootstrap'\nimport ReactGA from 'react-ga'\n\n\nfunction PropertyCheckout() {\n    const location = useLocation()\n    const params = useParams()\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const query = new URLSearchParams(location.search) \n    const final_res = useSelector(state => state.entity.validation)\n    const otp = useSelector(state => state.entity.otp) \n\n\n    const [show, setShow] = useState(false);\n    const [pay, setPay] = useState(false)\n    useEffect(()=>{\n        if(final_res?.['status']){\n            if(final_res['status'] === 'success'){\n                console.log(final_res)\n                dispatch(sendMailBackend(final_res))\n                alert(final_res['message'])\n                history.push('/')\n            }\n            else{\n                alert(final_res['message'])\n            }\n        }\n        if(otp){\n            if(otp['error'] === false){\n                if(pay === false){\n                    razorpay()\n                    setPay(true)\n                }\n            }\n            else{\n                setShow(true)\n            }\n        }\n    },[final_res,otp])\n\n    const [user_otp, setUserOtp] = useState(\"\")\n\n    const handleOtpChange = (e) => {\n        setUserOtp(e.target.value)\n    }\n\n    const [bookingInfo, setBookingInfo] = useState({\n        \"firstname\":\"\",\n        \"lastname\":\"\",\n        \"email\":\"\",\n        \"mobile\":\"\",\n        \"property_id\":params['property_id'],\n        \"start_date\":query.get('start_date'),\n        \"end_date\":query.get('end_date'),\n        \"days\":query.get('days'),\n        \"price\":query.get('price'),\n        \"room_type\":query.get('room_type'),\n    })\n    // const [show, setShow] = useState(false);\n\n    // const handleSimpleClose = () => setShow(false)\n    \n    const handleClose = async() => {\n        await dispatch(verifyOtpBackend({\"phone\":bookingInfo['mobile'], \"user_input\":user_otp}))   \n        setShow(false) \n    }\n    const handleShow = (e) => {\n        e.preventDefault()\n        ReactGA.event({\n            category:'Button',\n            action:'user clicked the confirm booking button'\n        })\n        dispatch(getOtpBackend({\"phone\":bookingInfo['mobile']}))\n        setShow(true)\n    }\n    const handleChange = (e) => {\n        setBookingInfo({\n            ...bookingInfo,\n            [e.target.name]:e.target.value\n        })\n    }\n    const razorpay = async() => {\n        \n        try {\n            let order_res = await dispatch(getOrderIdBackend(bookingInfo))\n            console.log(order_res)\n        var options = {\n            \"key\": \"rzp_test_lskMJcJY6Yjp9c\", // Enter the Key ID generated from the Dashboard\n            \"amount\": order_res['amount'], // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n            \"currency\": \"INR\",\n            \"name\": \"9flats\",\n            \"description\": \"Test Transaction\",\n            \"image\": \"https://assets.9flats.com/assets/new_home/logo-0aee51de5d08cfd71ad01d410e9b61ad821b8768f3c9de039f6bb6e48b792be7.svg\",\n            \"order_id\": order_res['id'], //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n            \"prefill\": {\n                \"name\": \"Username\",\n                \"email\": \"User email address\",\n                \"contact\": \"9999999999\"\n            },\n            \"notes\": {\n                \"address\": \"Razorpay Corporate Office\"\n            },\n            \"theme\": {\n                \"color\": \"#F37254\"\n            },\n            handler: async (response) => {\n                console.log(response)\n                let payload = {\n                    ...response,\n                    ...bookingInfo\n                }\n                await dispatch(getPaymentBackend(payload))                \n            },\n        };\n        const rzp_trial = window.Razorpay(options);\n        rzp_trial.open();\n        } catch (error) {\n            console.log(error)\n        }\n    }\n    console.log(otp)\n    return (\n        <div>\n            <div className=\"container mt-5\" >\n                <div className=\"row mb-5\" style={{ marginTop: 80 }} >\n                    <div className=\" order-md-1 order-2 col-12 col-md-6 p-3\">\n                        <h3 style={{ color: \"rgb(22, 139, 160)\" }}><b>Enter Your Details</b></h3>\n                        <Form className=\"mt-4\" onSubmit = {(e)=>razorpay(e)}>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridFirstName\">\n                                    <Form.Label>First Name</Form.Label>\n                                    <Form.Control type=\"text\" placeholder=\"First Name\" name=\"firstname\" onChange={(e)=>handleChange(e)} required/>\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridLastName\">\n                                    <Form.Label>Last Name</Form.Label>\n                                    <Form.Control type=\"text\" placeholder=\"Last Name\" name=\"lastname\" onChange={(e)=>handleChange(e)} />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridEmail\">\n                                    <Form.Label>Email Id</Form.Label>\n                                    <Form.Control type=\"email\" placeholder=\"Email \" name=\"email\" required onChange={(e)=>handleChange(e)} />\n                                </Form.Group>\n                                <Form.Group  as={Col} controlId=\"formGridContactNo\">\n                                    <Form.Label>Contact No.</Form.Label>\n                                    <Form.Control type=\"number\" placeholder=\"Contact No.\" name=\"mobile\" onChange={(e)=>handleChange(e)} required />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Group controlId=\"formGridAddress1\">\n                                <Form.Label>Address</Form.Label>\n                                <Form.Control placeholder=\"1234 Main St\" />\n                            </Form.Group>\n\n\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridCity\">\n                                    <Form.Label>City</Form.Label>\n                                    <Form.Control />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridState\">\n                                    <Form.Label>State</Form.Label>\n                                    <Form.Control as=\"select\" defaultValue=\"Choose...\">\n                                        <option>Choose...</option>\n                                        <option>...</option>\n                                    </Form.Control>\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"formGridZip\">\n                                    <Form.Label>Zip</Form.Label>\n                                    <Form.Control />\n                                </Form.Group>\n                            </Form.Row>\n                            <div className=\"text-center\">\n                                {/* <button className=\"btn btn-success btn-block\" type=\"submit\">Confirm Booking</button> */}\n                                <Button variant=\"primary\" onClick={handleShow}>\n                                Confirm Booking\n                                </Button>\n\n                                {otp === \"\" || otp?.['error'] === false? \n                                <Modal show={show} onHide={handleClose}>\n                                <Modal.Header closeButton>\n                                <Modal.Title>Modal heading</Modal.Title>\n                                </Modal.Header>\n                                <Modal.Body>\n                                    Please enter the opt sent to your mobile!\n                                    <input type=\"text\"\n                                    placeholder = \"OTP from mobile\"\n                                    value={user_otp}\n                                    onChange={(e)=>handleOtpChange(e)}/>\n                                </Modal.Body>\n                                <Modal.Footer>\n                                <Button variant=\"secondary\" onClick={handleClose}>\n                                    Close\n                                </Button>\n                                <Button variant=\"primary\" onClick={handleClose}>\n                                    Save Changes\n                                </Button>\n                                </Modal.Footer>\n                            </Modal>:\n                            <Modal show={show} onHide={handleClose}>\n                            <Modal.Header closeButton>\n                            <Modal.Title>Modal heading</Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                Please enter the opt sent to your mobile!\n                                <input type=\"text\"\n                                placeholder = \"OTP from mobile\"\n                                value={user_otp}\n                                onChange={(e)=>handleOtpChange(e)}/>\n                            </Modal.Body>\n                            <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                                Close\n                            </Button>\n                            <Button variant=\"primary\" onClick={handleClose}>\n                                Save Changes\n                            </Button>\n                            <small className=\"text-danger\">OTP invalid. Please try again</small>\n                            </Modal.Footer>\n                        </Modal>}\n                            </div>\n                        </Form>\n                    </div>\n                    <div className=\" order-md-2 order-1 col-12 col-md-6 d-flex justify-content-center align-items-center\" >\n                        <div className=\"border rounded shadow p-3\" style={{ width: 350 }}>\n                            <div className=\"d-flex flex-row justify-cotent-center align-items-center mt-3\" >\n                                <div className=\"col-8\">\n                                    <h6><b>The Trident</b></h6>\n                                    <p>Private room in farm stay in Bangalore</p>\n                                </div>\n                                <div className=\"col-4\">\n                                    <img className=\"img-fluid\" src=\"https://q-xx.bstatic.com/xdata/images/hotel/max500/16186396.jpg?k=ee4495ac70ef5c8665f457cbd509bd0a606be9f8ce41eef4eb2befd278ab0379&amp;o=\" alt=\"\" />\n                                </div>\n                            </div>\n                            <hr />\n                            <div className=\"d-flex flex-row my-4\">\n                                <div className=\"col-12\">\n                                    <div className=\"mb-2\">\n                                        <span><img src=\"https://img.icons8.com/ios/30/000000/guest-male.png\" alt=\"\" /> 1 guest</span>\n                                    </div>\n                                    <div>\n                                        <span><img src=\"https://img.icons8.com/ios/30/000000/planner.png\" alt=\"\" />  Jul 31, 2020 &#8594; Aug 1, 2020</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"d-flex flex-row justify-cotent-center align-items-center\">\n                                <table className=\"table table-borderless \">\n                                    <tbody>\n                                        <tr>\n                                            <td >₹1,200.00 x 1 night</td>\n                                            <td className=\"text-right\">₹1,200.00</td>\n                                        </tr>\n                                        <tr>\n                                            <td >Service fee</td>\n                                            <td className=\"text-right\">₹169.41</td>\n                                        </tr>\n                                        <tr>\n                                            <td >Occupancy taxes and fees</td>\n                                            <td className=\"text-right\">₹144.00</td>\n                                        </tr>\n\n                                        <tr className=\"border-top\">\n                                            <th scope=\"row\">Total(INR)</th>\n                                            <td className=\"text-right\"><b>₹1,513.41</b></td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default PropertyCheckout\n"]},"metadata":{},"sourceType":"module"}