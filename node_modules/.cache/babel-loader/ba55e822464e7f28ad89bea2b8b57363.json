{"ast":null,"code":"import React from'react';import single from'../Entity/Resources/Images/single.png';import double from'../Entity/Resources/Images/double.png';import triple from'../Entity/Resources/Images/triple.png';import{useLocation,useHistory,useParams}from'react-router-dom';import styles from'./Entity.module.css';export default function Table(_ref){var rooms=_ref.rooms,room_status=_ref.room_status,basicDetails=_ref.basicDetails,hotel=_ref.hotel;var location=useLocation();var history=useHistory();var params=useParams();var query=new URLSearchParams(location.search);var handleBook=function handleBook(price,room,name){var s_date=query.get('start_date').split(\"-\").map(Number);var d1=new Date(s_date[0],s_date[1]-1,s_date[2]);var e_date=query.get('end_date').split(\"-\").map(Number);var d2=new Date(e_date[0],e_date[1]-1,e_date[2]);var days=Math.round((d2.getTime()-d1.getTime())/(1000*60*60*24));var payload=\"/\".concat(params['property_id'],\"?&hotel=\").concat(name,\"&start_date=\").concat(query.get('start_date'),\"&end_date=\").concat(query.get('end_date'),\"&days=\").concat(days,\"&price=\").concat(price,\"&room_type=\").concat(room);history.push(\"/payment\".concat(payload));};console.log(rooms,room_status);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(styles.description,\" container\")},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Location & Availability\"),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"row p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center p-2\"},/*#__PURE__*/React.createElement(\"iframe\",{width:\"400px\",height:\"300px\",frameborder:\"0\",style:{\"border\":\"0\"},src:\"https://www.google.com/maps/embed/v1/place?key=AIzaSyCcS0j7hDpSs-F4xDi2q6AkTD_sWqECR9M&q=\".concat(hotel),allowfullscreen:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-sm\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead\",style:{backgroundColor:\"rgb(4, 177, 177)\",color:\"white\",position:\"sticky\",top:0}},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center\",style:{width:\"30%\"}},\"Types of Rooms\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center \"},\"Sleeps\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center \"},\"Price\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center \"},\"Availability\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"text-center \"},\"Book\"))),/*#__PURE__*/React.createElement(\"tbody\",null,rooms?rooms.map(function(elem){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"\".concat(styles.roomtd,\" d-inline-block\")},/*#__PURE__*/React.createElement(\"strong\",null,elem['room_type'].charAt(0).toUpperCase()+elem['room_type'].slice(1)),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:elem['capacity']===1?single:elem['capacity']===2?double:elem['capacity']===4?triple:\"NA\"})),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},elem['price']),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},room_status[elem['room_type']]),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},room_status[elem['room_type']]!=='booked'?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-success\",onClick:function onClick(){return handleBook(elem['price'],elem['room_type'],basicDetails['name']);}},\"Book Now\"):/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-success disabled\"},\"Book Now\")));}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Loading...\"))))))));}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-client/src/components/Entity/Table.jsx"],"names":["React","single","double","triple","useLocation","useHistory","useParams","styles","Table","rooms","room_status","basicDetails","hotel","location","history","params","query","URLSearchParams","search","handleBook","price","room","name","s_date","get","split","map","Number","d1","Date","e_date","d2","days","Math","round","getTime","payload","push","console","log","description","backgroundColor","color","position","top","width","elem","roomtd","charAt","toUpperCase","slice"],"mappings":"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","sourcesContent":["import React from 'react'\nimport single from '../Entity/Resources/Images/single.png'\nimport double from '../Entity/Resources/Images/double.png'\nimport triple from '../Entity/Resources/Images/triple.png'\nimport {useLocation, useHistory, useParams} from 'react-router-dom'\nimport styles from './Entity.module.css'\n\nexport default function Table({rooms, room_status, basicDetails, hotel}) {\n    const location = useLocation()\n    const history = useHistory()\n    const params = useParams()\n\n    const query = new URLSearchParams(location.search)\n    \n    const handleBook = (price, room, name) =>{\n        const s_date = query.get('start_date').split(\"-\").map(Number)\n        const d1 = new Date(s_date[0], s_date[1] - 1, s_date[2])\n\n        const e_date = query.get('end_date').split(\"-\").map(Number)\n        const d2 = new Date(e_date[0], e_date[1] - 1, e_date[2])\n\n        let days = Math.round((d2.getTime()-d1.getTime())/(1000*60*60*24))\n\n        let payload = `/${params['property_id']}?&hotel=${name}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&days=${days}&price=${price}&room_type=${room}`\n        history.push(`/payment${payload}`)\n    }\n    console.log(rooms, room_status)\n    return (\n        <div>\n            <div className={`${styles.description} container`}>\n                <div>\n                    <h2>Location & Availability</h2>\n                    <hr></hr>\n                </div>\n                <div className=\"row p-0\">\n                    <div className=\"col-6\">\n                        <div className=\"text-center p-2\">\n                            <iframe\n                                width=\"400px\"\n                                height=\"300px\"\n                                frameborder=\"0\" style={{\"border\":\"0\"}}\n                                src={`https://www.google.com/maps/embed/v1/place?key=AIzaSyCcS0j7hDpSs-F4xDi2q6AkTD_sWqECR9M&q=${hotel}`} allowfullscreen>\n                            </iframe>\n                        </div>\n                    </div>\n                    <div className=\"col-6\">\n                        <table className=\"table table-sm\">\n                            <thead className=\"thead\" style={{backgroundColor:\"rgb(4, 177, 177)\", color:\"white\", position:\"sticky\", top:0, }}>\n                                <tr>\n                                    <th scope=\"col\" className=\"text-center\" style={{ width: \"30%\" }}>Types of Rooms</th>\n                                    <th scope=\"col\" className=\"text-center \">Sleeps</th>\n                                    <th scope=\"col\" className=\"text-center \">Price</th>\n                                    <th scope=\"col\" className=\"text-center \">Availability</th>\n                                    <th scope=\"col\" className=\"text-center \">Book</th>\n                                </tr>\n                            </thead>\n                            <tbody >\n                                {rooms ? rooms.map(elem => {\n                                    return (\n                                        <tr>\n                                            <td className={`${styles.roomtd} d-inline-block`}>\n                                                <strong>{elem['room_type'].charAt(0).toUpperCase() + elem['room_type'].slice(1)}</strong><br></br>\n                                            </td>\n                                            <td className=\"text-center\">\n                                                <img src={elem['capacity'] === 1 ? single :\n                                                elem['capacity'] === 2 ? double :\n                                                elem['capacity'] === 4 ? triple :\n                                                \"NA\"}></img>\n                                            </td>\n                                            <td className=\"text-center\">\n                                                {elem['price']}\n                                            </td>\n                                            <td className=\"text-center\">\n                                                {room_status[elem['room_type']]}\n                                            </td>\n                                            <td className=\"text-right\">\n                                                {room_status[elem['room_type']] !== 'booked'? \n                                                <button className=\"btn btn-sm btn-success\"\n                                                onClick = {()=>handleBook(elem['price'], elem['room_type'], basicDetails['name'])}>\n                                                    Book Now\n                                                </button>:\n                                                <button className=\"btn btn-sm btn-success disabled\">\n                                                    Book Now\n                                                </button>}\n                                            </td>\n                                        </tr>\n                                    )\n                                }):<tr><td>Loading...</td></tr>}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}