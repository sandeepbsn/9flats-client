{"ast":null,"code":"import React,{useState}from'react';import{useDispatch}from'react-redux';import{useLocation,useHistory}from'react-router-dom';import{v4 as uuidv4}from'uuid';import styles from'./ListingPage.module.css';export default function PageList(_ref){var total_pages=_ref.total_pages;var dispatch=useDispatch();var history=useHistory();var location=useLocation();var pages=[];var query=new URLSearchParams(location.search);var activePage=query.get('page')===\"\"||null?1:Number(query.get('page'));console.log(\"page is \",activePage);var handlePageChange=function handlePageChange(page){page=Number(page)?page:Number(activePage)+1;var payload=\"search_query=\".concat(query.get('search_query'),\"&start_date=\").concat(query.get('start_date'),\"&end_date=\").concat(query.get('end_date'),\"&page=\").concat(page,\"&per_page=\").concat(query.get('per_page'),\"&category=\").concat(query.get('category'),\"&amenities=\").concat(query.get('amenities'),\"&price=\").concat(query.get('price'));history.push(\"/listing?\".concat(payload));};var _loop=function _loop(i){if(i===activePage){pages.push(/*#__PURE__*/React.createElement(\"button\",{className:\"\".concat(styles.activepage),key:uuidv4(),onClick:function onClick(){return handlePageChange(i);}},i));return\"continue\";}if(i===activePage-1){if(i!==0){pages.push(/*#__PURE__*/React.createElement(\"button\",{key:uuidv4(),onClick:function onClick(){return handlePageChange(activePage-1);}},\"\\u2190\"));}return\"continue\";}if(i===activePage+3){pages.push(/*#__PURE__*/React.createElement(\"button\",{key:uuidv4(),onClick:function onClick(){return handlePageChange(activePage+1);}},\"\\u2192\"));return\"continue\";}pages.push(/*#__PURE__*/React.createElement(\"button\",{key:uuidv4(),onClick:function onClick(){return handlePageChange(i);}},i));};for(var i=activePage-1;i>=0&&i<=activePage+3&&i<=total_pages;i++){var _ret=_loop(i);if(_ret===\"continue\")continue;}if(pages.length){return pages.map(function(page){return/*#__PURE__*/React.createElement(\"div\",{key:uuidv4(),className:\"d-flex\"},page);});}else{return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");}}","map":{"version":3,"sources":["/home/sandeep/projects/9flats-final/9flats/client/src/components/Listing/PageList.jsx"],"names":["React","useState","useDispatch","useLocation","useHistory","v4","uuidv4","styles","PageList","total_pages","dispatch","history","location","pages","query","URLSearchParams","search","activePage","get","Number","console","log","handlePageChange","page","payload","push","i","activepage","length","map"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {useDispatch} from 'react-redux'\nimport {useLocation, useHistory} from 'react-router-dom'\nimport {v4 as uuidv4} from 'uuid'\nimport styles from './ListingPage.module.css'\n\n\nexport default function PageList({total_pages}){\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const location = useLocation()\n    \n\n    let pages = []\n    const query = new URLSearchParams(location.search)\n    const activePage = query.get('page') === \"\" || null ? 1 : Number(query.get('page'))\n    console.log(\"page is \", activePage)\n    const handlePageChange = (page) => {\n        page = Number(page) ? page : Number(activePage) + 1  \n        \n\n        let payload = `search_query=${query.get('search_query')}&start_date=${query.get('start_date')}&end_date=${query.get('end_date')}&page=${page}&per_page=${query.get('per_page')}&category=${query.get('category')}&amenities=${query.get('amenities')}&price=${query.get('price')}`\n\n        history.push(`/listing?${payload}`)\n    } \n\n    for(let i = activePage - 1; i >= 0 && i<=activePage+3 && i <= total_pages; i++){\n        if(i === activePage){\n            pages.push(<button className = {`${styles.activepage}`} key={uuidv4()} onClick={()=>handlePageChange(i)}>{i}</button>)\n            continue\n        }\n        if(i === activePage - 1){\n            if(i !== 0){\n                pages.push(<button key={uuidv4()} onClick={()=>handlePageChange(activePage - 1)}>&#8592;</button>)\n            }\n            continue\n        }\n        if (i === activePage + 3){\n            pages.push(<button key={uuidv4()} onClick={()=>handlePageChange(activePage + 1)}>&#8594;</button>)\n            continue\n        }\n        pages.push(<button key={uuidv4()} onClick={()=>handlePageChange(i)}>{i}</button>)\n\n    }\n    \n    if(pages.length){\n        return (\n            pages.map(page=><div key = {uuidv4()} className=\"d-flex\">{page}</div>)\n        )\n    }\n    else{\n        return (\n            <div>Loading...</div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}